<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="æˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿæˆ‘æƒ³åšä»€ä¹ˆï¼Ÿæˆ‘è¦æ€ä¹ˆåšï¼Ÿ">
<meta property="og:type" content="website">
<meta property="og:title" content="Sparky">
<meta property="og:url" content="http://yoursite.com/page/10/index.html">
<meta property="og:site_name" content="Sparky">
<meta property="og:description" content="æˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿæˆ‘æƒ³åšä»€ä¹ˆï¼Ÿæˆ‘è¦æ€ä¹ˆåšï¼Ÿ">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sparky">
<meta name="twitter:description" content="æˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿæˆ‘æƒ³åšä»€ä¹ˆï¼Ÿæˆ‘è¦æ€ä¹ˆåšï¼Ÿ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/10/"/>





  <title>Sparky</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?23f2f984b557cd9c31da9a75b4da08e4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sparky</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/27/EPUB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/27/EPUB/" itemprop="url">EPUB</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-27T08:59:09+08:00">
                2017-12-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="EPUB"><a href="#EPUB" class="headerlink" title="EPUB"></a>EPUB</h1><h2 id="ä»€ä¹ˆæ˜¯EPUBï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯EPUBï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯EPUBï¼Ÿ"></a>ä»€ä¹ˆæ˜¯EPUBï¼Ÿ</h2><p>e-pubçš„æ„æ€æ˜¯ç”µå­å‡ºç‰ˆï¼Œæ˜¯IDPFåˆ¶å®šçš„ä¸€ä¸ªæ ‡å‡†ï¼Œè¿™ä¸ªæ ‡å‡†æ˜¯åŸºäºxmlæ ¼å¼çš„ç”µå­ä¹¦æˆ–è€…å…¶å®ƒæ•°å­—å‡ºç‰ˆç‰©ã€‚</p>
<p>.epubæ–‡ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•çš„zipæ–‡ä»¶å¯ä»¥ä½¿ç”¨winraræˆ–è€…linuxä½¿ç”¨å½’æ¡£ç®¡ç†å™¨æ‰“å¼€æ¥çœ‹ç›®å½•ç»“æ„å’ŒåŸºæœ¬æ–‡æ¡£ã€‚å†…å®¹éƒ½æ˜¯xmlæ ¼å¼çš„ã€‚</p>
<h2 id="epubæ–‡ä»¶çš„ç›®å½•ç»“æ„å’ŒåŸºæœ¬æ–‡æ¡£"><a href="#epubæ–‡ä»¶çš„ç›®å½•ç»“æ„å’ŒåŸºæœ¬æ–‡æ¡£" class="headerlink" title="epubæ–‡ä»¶çš„ç›®å½•ç»“æ„å’ŒåŸºæœ¬æ–‡æ¡£"></a>epubæ–‡ä»¶çš„ç›®å½•ç»“æ„å’ŒåŸºæœ¬æ–‡æ¡£</h2><h4 id="1-mimetypeæ–‡ä»¶"><a href="#1-mimetypeæ–‡ä»¶" class="headerlink" title="1. mimetypeæ–‡ä»¶"></a>1. mimetypeæ–‡ä»¶</h4><p>è¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•ï¼Œé‡Œé¢åªæœ‰</p>
<pre><code>application/epub+zip
</code></pre><p> ä½†æ˜¯è¿™ä¸ªæ–‡ä»¶å¿…é¡»ä½œä¸ºzipæ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”ä¸èƒ½è¢«å‹ç¼©ï¼Œå¿…é¡»åœ¨æ ¹ç›®å½•ä¸‹ã€‚åŒæ—¶è¿™ä¸ªæ–‡ä»¶ä¸èƒ½æœ‰å›è½¦å’Œæ¢è¡Œã€‚</p>
<h4 id="2-META-INFO"><a href="#2-META-INFO" class="headerlink" title="2. META-INFO"></a>2. META-INFO</h4><p>META-INFOæ–‡ä»¶å¤¹è·Ÿmimetypeä¸€æ ·ï¼Œä¹Ÿæ˜¯å¿…é¡»å­˜åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¹Ÿå¿…é¡»åœ¨æ ¹ç›®å½•ä¸‹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ªcontainer.xmlæ–‡ä»¶.epubé˜…è¯»ç³»ç»Ÿä¼šé¦–å…ˆæŸ¥çœ‹è¯¥æ–‡ä»¶ï¼Œä»–æŒ‡å‘æ–‡ä»¶å›¾ä¹¦çš„æºæ•°å­—æ–‡ä»¶çš„ä½ç½®ã€‚è¿™ä¸ªcontainer.xmlæ ¼å¼å¦‚ä¸‹</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;container version=&quot;1.0&quot; xmlns=&quot;urn:oasis:names:tc:opendocument:xmlns:container&quot;&gt;
&lt;rootfiles&gt;
&lt;rootfile full-path=&quot;OEBPS/content.opf&quot;
media-type=&quot;application/oebps-package+xml&quot; /&gt;
&lt;/rootfiles&gt;
&lt;/container&gt;
</code></pre><blockquote>
<p>mimetype å’Œ container æ˜¯ EPUB æ¡£æ¡ˆä¸­ä»…æœ‰çš„ä¸¤ä¸ªéœ€è¦ä¸¥æ ¼é™åˆ¶ä½ç½®çš„æ–‡ä»¶ã€‚å»ºè®®å°†å…¶ä»–æ–‡ä»¶ä¿å­˜åˆ° EPUB çš„å­ç›®å½•ä¸‹ï¼ˆé€šå¸¸è¢«ç§°ä¸ºOEBPSä½†ä¸æ˜¯å¿…é¡»çš„ï¼‰ã€‚</p>
</blockquote>
<h4 id="3-å…ƒæ•°æ®æ–‡ä»¶-opf-packaging-format"><a href="#3-å…ƒæ•°æ®æ–‡ä»¶-opf-packaging-format" class="headerlink" title="3. å…ƒæ•°æ®æ–‡ä»¶(.opf packaging format)"></a>3. å…ƒæ•°æ®æ–‡ä»¶(.opf packaging format)</h4><p>META-INFOæ–‡ä»¶å¤¹ä¸‹çš„container.xmlæ‰€æŒ‡å®šçš„rootfileçš„æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶æ–‡ä»¶åæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ‰©å±•åä¸º.opfã€‚ä»–æŒ‡å®šäº†å›¾ä¹¦ä¸­æ‰€æœ‰å†…å®¹çš„ä½ç½®ï¼Œå¦‚æ–‡æœ¬å’Œå¤šåª’ä½“ç›®å½•ã€‚å¦å¤–ä»–è¿˜ä¼šç»™å‡ºä¸€ä¸ªå…ƒæ•°æ®æ–‡ä»¶ï¼Œå®ƒæ˜¯Navigation Center eXtended (NCX) è¡¨ï¼Œæœ‰çš„ç§°å…¶ä¸ºé€»è¾‘ç›®å½•ï¼Œopfå†…å®¹ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code>&lt;?xml version=&apos;1.0&apos; encoding=&apos;utf-8&apos;?&gt;
&lt;package xmlns=&quot;http://www.idpf.org/2007/opf&quot;
xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
unique-identifier=&quot;bookid&quot; version=&quot;2.0&quot;&gt;
&lt;metadata&gt;
&lt;dc:title&gt;Hello World: My First EPUB&lt;/dc:title&gt;
&lt;dc:creator&gt;My Name&lt;/dc:creator&gt;
&lt;dc:identifier id=&quot;bookid&quot;&gt;urn:uuid:12345&lt;/dc:identifier&gt;
&lt;meta name=&quot;cover&quot; content=&quot;cover-image&quot; /&gt;
&lt;/metadata&gt;
&lt;manifest&gt;
&lt;item id=&quot;ncx&quot; href=&quot;toc.ncx&quot; media-type=&quot;text/xml&quot;/&gt;
&lt;item id=&quot;cover&quot; href=&quot;title.html&quot; media-type=&quot;application/xhtml+xml&quot;/&gt;
&lt;item id=&quot;content&quot; href=&quot;content.html&quot; media-type=&quot;application/xhtml+xml&quot;/&gt;
&lt;item id=&quot;cover-image&quot; href=&quot;images/cover.png&quot; media-type=&quot;image/png&quot;/&gt;
&lt;item id=&quot;css&quot; href=&quot;stylesheet.css&quot; media-type=&quot;text/css&quot;/&gt;
&lt;/manifest&gt;
&lt;spine toc=&quot;ncx&quot;&gt;
&lt;itemref idref=&quot;cover&quot; linear=&quot;no&quot;/&gt;
&lt;itemref idref=&quot;content&quot;/&gt;
&lt;/spine&gt;
&lt;guide&gt;
&lt;reference href=&quot;cover.html&quot; type=&quot;cover&quot; title=&quot;Cover&quot;/&gt;
&lt;/guide&gt;
&lt;/package&gt;
</code></pre><h5 id="3-1-å‘½åç©ºé—´"><a href="#3-1-å‘½åç©ºé—´" class="headerlink" title="3.1 å‘½åç©ºé—´ "></a>3.1 å‘½åç©ºé—´ <package></package></h5><p>æ–‡æ¡£æœ¬èº«å¿…é¡»ä½¿ç”¨å‘½åç©ºé—´ xmlns=â€<a href="http://www.idpf.org/2007/opf" target="_blank" rel="noopener">http://www.idpf.org/2007/opf</a>â€œ,<br>metadataä¹Ÿå¯ä»¥åœ¨è¿™é‡ŒæŒ‡å®šå‘½åç©ºé—´,å…ƒæ•°æ®ä¸€èˆ¬ä½¿ç”¨ Dublin Core Metadata Initiative (DCMI)<br>xmlns=â€<a href="http://purl.org/dc/elements/1.1/" target="_blank" rel="noopener">http://purl.org/dc/elements/1.1/</a>â€œ</p>
<h5 id="3-2-æºæ•°æ®"><a href="#3-2-æºæ•°æ®" class="headerlink" title="3.2 æºæ•°æ® "></a>3.2 æºæ•°æ® <metadata></metadata></h5><p> Dublin Core Metadata Initiative (DCMI)å®šä¹‰äº†ä¸€ç»„å¸¸è§çš„å…ƒæ•°æ®ï¼Œå¯ä»¥ç”¨æ¥æè¿°å„ç§ä¸åŒçš„æ•°å­—èµ„æ–™ï¼Œä¸‹è¾¹æ˜¯å…ƒæ•°æ®æ‘˜è¦ï¼š</p>
<pre><code>...
&lt;metadata&gt;
&lt;dc:title&gt;Hello World: My First EPUB&lt;/dc:title&gt;
&lt;dc:creator&gt;My Name&lt;/dc:creator&gt;
&lt;dc:identifier id=&quot;bookid&quot;&gt;urn:uuid:12345&lt;/dc:identifier&gt;
&lt;meta name=&quot;cover&quot; content=&quot;cover-image&quot; /&gt;
&lt;/metadata&gt;
...
</code></pre><p>æœ‰ä¸¤ä¸ªæœ¯è¯­æ˜¯å¿…é¡»çš„ï¼Œåˆ†åˆ«æ˜¯titleå’Œidentifierã€‚è¿™ä¸ªidentifierå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¯¹äºå›¾ä¹¦å‡ºç‰ˆå•†æ¥è¯´è¿™ä¸ªå­—æ®µä¸€èˆ¬åŒ…æ‹¬ISBNç¼–å·ï¼Œå¯ä»¥ä½¿ç”¨URLæˆ–è€…å¾ˆå¤§çš„éšæœºç”Ÿæˆçš„uuidã€‚</p>
<blockquote>
<p>å±æ€§unique-identifierçš„å€¼å¿…é¡»å’Œdc:identifierå…ƒç´ çš„idå±æ€§åŒ¹é…</p>
</blockquote>
<p>epubè§„èŒƒæ²¡æœ‰è¦æ±‚åŒ…å«nameçš„å±æ€§å€¼ä¸ºcoverçš„metaå…ƒç´ ï¼Œä½†æ˜¯ä¸ºäº†å¢åŠ å°é¢å’Œå›¾åƒçš„å¯ç§»æ¤æ€§ï¼Œä¸€èˆ¬å»ºè®®åŠ ä¸Šã€‚metaå…ƒç´ çš„contentå±æ€§çš„å€¼å¯¹åº”åœ¨è¿™ä¸ªopfæ–‡ä»¶manifestå…ƒç´ çš„idå·ï¼Œ</p>
<h5 id="3-3-æ¸…å•æ•°æ®"><a href="#3-3-æ¸…å•æ•°æ®" class="headerlink" title="3.3 æ¸…å•æ•°æ® "></a>3.3 æ¸…å•æ•°æ® <manifest></manifest></h5><p>opfæ–‡ä»¶ä¸­çš„manifestèŠ‚ç‚¹åˆ—å‡ºäº†epubçš„æ‰€æœ‰èµ„æºï¼Œé€šå¸¸æ˜¯ç»„æˆç”µå­ä¹¦çš„ä¸€ç»„xhtmlæ–‡ä»¶å’Œç›¸å…³çš„åª’ä½“æ–‡ä»¶ã€‚epubé¼“åŠ±ä½¿ç”¨cssè®¾å®šå›¾ä¹¦å†…å®¹çš„æ ·å¼ï¼Œå› æ­¤manifestä¸­ä¹ŸåŒ…å«cssã€‚è¿›å…¥æ•°å­—å›¾ä¹¦çš„æ‰€æœ‰å†…å®¹å¿…é¡»åœ¨manifestä¸­åˆ—å‡ºã€‚<br>ä¸‹è¾¹æ˜¯manifestç¤ºä¾‹ï¼š</p>
<pre><code>...
&lt;manifest&gt;
&lt;item id=&quot;ncx&quot; href=&quot;toc.ncx&quot; media-type=&quot;text/xml&quot;/&gt;
&lt;item id=&quot;cover&quot; href=&quot;title.html&quot; media-type=&quot;application/xhtml+xml&quot;/&gt;
&lt;item id=&quot;content&quot; href=&quot;content.html&quot; media-type=&quot;application/xhtml+xml&quot;/&gt;
&lt;item id=&quot;cover-image&quot; href=&quot;images/cover.png&quot; media-type=&quot;image/png&quot;/&gt;
&lt;item id=&quot;css&quot; href=&quot;stylesheet.css&quot; media-type=&quot;text/css&quot;/&gt;
&lt;/manifest&gt;
</code></pre><p>æ‰€æœ‰çš„æƒ³å¿…é¡»æœ‰å¯¹åº”çš„media-type</p>
<p>epubæ”¯æŒä¸‰ç§æ ¸å¿ƒå›¾åƒæ–‡ä»¶ç±»å‹:JPEG,PNG,GIFå’ŒScalable Vector Graphics(SVGçŸ¢é‡å›¾)</p>
<h5 id="3-4-spine"><a href="#3-4-spine" class="headerlink" title="3.4 spine"></a>3.4 spine</h5><p>spineçš„æ„æ€æ˜¯è„ŠæŸ±ï¼Œä½œç”¨æ˜¯çº¿æ€§é˜…è¯»é¡ºåºï¼Œå¯ä»¥å°†OPF spineçœ‹åšä¹¦ä¸­çš„é¡µé¢çš„é¡ºåºï¼ŒæŒ‰ç…§æ–‡æ¡£é¡ºåºä»ä¸Šåˆ°ä¸‹ä¸€æ¬¡è¯»å–spineï¼Œä¸‹è¾¹æ˜¯spineç¤ºä¾‹ï¼š</p>
<pre><code>... 
&lt;spine toc=&quot;ncx&quot;&gt; 
&lt;itemref idref=&quot;cover&quot; linear=&quot;no&quot;/&gt; 
&lt;itemref idref=&quot;content&quot;/&gt; 
&lt;/spine&gt; 
... 
</code></pre><p>æ¯ä¸ªitemrefå…ƒç´ éƒ½éœ€è¦ä¸€ä¸ªidrefå±æ€§ï¼Œå¹¶ä¸”å’Œmanifestä¸­çš„idæƒ³åŒ¹é…ã€‚tocå±æ€§ä¹Ÿæ˜¯å¿…é¡»çš„ï¼Œä»–å¼•ç”¨manifestä¸­è¡¨ç¤ºncxè¡¨æ–‡ä»¶åçš„idã€‚</p>
<p>spineä¸­çš„linearå±æ€§è¡¨æ˜è¯¥é¡¹ä½œä¸ºçº¿æ€§é˜…è¯»é¡ºåºçš„ä¸€éƒ¨åˆ†ï¼Œè¿˜æ˜¯å’Œå…ˆåé¡ºåºæ— å…³ã€‚å»ºè®®å°†å°é¢å®šä¹‰ä¸ºnoã€‚ç¬¦åˆepubè§„èŒƒçš„é˜…è¯»ç³»ç»Ÿå°†é¦–æ¬¡æ‰“å¼€spineä¸­è®¾ç½®linear=noçš„ç¬¬ä¸€é¡¹ã€‚</p>
<h5 id="3-5-guide"><a href="#3-5-guide" class="headerlink" title="3.5 guide"></a>3.5 guide</h5><p>è¿™ä¸ªæ˜¯å¯é€‰çš„ï¼Œæœ€å¥½ä¿ç•™ï¼Œå¯ä»¥ä¸ºepubé˜…è¯»ç³»ç»Ÿæä¾›è¯­ä¹‰åŠŸèƒ½ã€‚ä¸‹è¾¹æ˜¯ç¤ºä¾‹:</p>
<pre><code>...
&lt;guide&gt;
&lt;reference href=&quot;cover.html&quot; type=&quot;cover&quot; title=&quot;Cover&quot;/&gt;
&lt;/guide&gt;
...
</code></pre><blockquote>
<p>ä¸Šè¾¹å°±æ˜¯opfæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œmanifestæ–‡ä»¶å®šä¹‰epubæ‰€æœ‰ç‰©ç†èµ„æºï¼Œspineå®šä¹‰è¿™äº›èµ„æºçš„é¡ºåºä¿¡æ¯ï¼Œguideè´Ÿè´£è§£é‡Šè¿™äº›éƒ¨åˆ†çš„å«ä¹‰ã€‚</p>
</blockquote>
<h4 id="4-NCX-Navigation-Control-file-for-XML-applications"><a href="#4-NCX-Navigation-Control-file-for-XML-applications" class="headerlink" title="4. NCX(Navigation Control file for XML applications)"></a>4. NCX(Navigation Control file for XML applications)</h4><p>ncxå®šä¹‰äº†æ•°å­—å›¾ä¹¦çš„ç›®å½•è¡¨ï¼Œåœ¨å¤æ‚çš„å›¾ä¹¦ä¸­ï¼Œç›®å½•è¡¨é€šå¸¸é‡‡ç”¨å±‚æ¬¡ç»“æ„ï¼ŒåŒ…æ‹¬åµŒå¥—çš„å†…å®¹ï¼Œç« èŠ‚ç­‰ä¿¡æ¯ã€‚<br>ä¸‹è¾¹æ˜¯ç®€å•çš„toc.ncxæ–‡ä»¶å†…å®¹:</p>
<pre><code>&lt;?xml version=&apos;1.0&apos; encoding=&apos;utf-8&apos;?&gt;
&lt;!DOCTYPE ncx PUBLIC &quot;-//NISO//DTD ncx 2005-1//EN&quot;
&quot;http://www.daisy.org/z3986/2005/ncx-2005-1.dtd&quot;&gt;
&lt;ncx xmlns=&quot;http://www.daisy.org/z3986/2005/ncx/&quot; version=&quot;2005-1&quot;&gt;
&lt;head&gt;
&lt;meta name=&quot;dtb:uid&quot; content=&quot;urn:uuid:12345&quot;/&gt;
&lt;meta name=&quot;dtb:depth&quot; content=&quot;1&quot;/&gt;
&lt;meta name=&quot;dtb:totalPageCount&quot; content=&quot;0&quot;/&gt;
&lt;meta name=&quot;dtb:maxPageNumber&quot; content=&quot;0&quot;/&gt;
&lt;/head&gt;
&lt;docTitle&gt;
&lt;text&gt;Hello World: My First EPUB&lt;/text&gt;
&lt;/docTitle&gt;
&lt;navMap&gt;
&lt;navPoint id=&quot;navpoint-1&quot; playOrder=&quot;1&quot;&gt;
&lt;navLabel&gt;
&lt;text&gt;Book cover&lt;/text&gt;
&lt;/navLabel&gt;
&lt;content src=&quot;title.html&quot;/&gt;
&lt;/navPoint&gt;
&lt;navPoint id=&quot;navpoint-2&quot; playOrder=&quot;2&quot;&gt;
&lt;navLabel&gt;
&lt;text&gt;Contents&lt;/text&gt;
&lt;/navLabel&gt;
&lt;content src=&quot;content.html&quot;/&gt;
&lt;/navPoint&gt;
&lt;/navMap&gt;
&lt;/ncx&gt;
</code></pre><p>EPUBä½¿ç”¨çš„DAISYçš„NCX DTDçš„å‘½åç©ºé—´<br>xmlns=â€<a href="http://www.daisy.org/z3986/2005/ncx/" target="_blank" rel="noopener">http://www.daisy.org/z3986/2005/ncx/</a>â€œ </p>
<h5 id="4-1-head"><a href="#4-1-head" class="headerlink" title="4.1 head"></a>4.1 head</h5><p>DTDè¦æ±‚ncxæ–‡ä»¶çš„headå…ƒç´ åŒ…æ‹¬å››ä¸ªmetaå…ƒç´ :</p>
<ul>
<li>dtd:uid // æ•°å­—å›¾ä¹¦çš„å”¯ä¸€idï¼Œå’Œopfæ–‡ä»¶ä¸­çš„dc:identifierå¯¹åº”</li>
<li>dtd:depth // ç›®å½•ä¸­å±‚æ¬¡çš„æ·±åº¦</li>
<li>dtd:totalPageCount // ä»…ç”¨äºçº¸è´¨å›¾ä¹¦ï¼Œä¿ç•™0å³å¯</li>
<li>dtd:maxPageNumber // ä»…ç”¨äºçº¸è´¨å›¾ä¹¦ï¼Œä¿ç•™0å³å¯</li>
</ul>
<h5 id="4-2-docTitle"><a href="#4-2-docTitle" class="headerlink" title="4.2 docTitle"></a>4.2 docTitle</h5><p>æ˜¯å›¾ä¹¦çš„æ ‡é¢˜ï¼Œå’Œopfæ–‡ä»¶ä¸­çš„dc:titleå¯¹åº”</p>
<h5 id="4-3-navMap"><a href="#4-3-navMap" class="headerlink" title="4.3 navMap"></a>4.3 navMap</h5><p>navMapæ˜¯ncxæ–‡ä»¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå®šä¹‰äº†ç”µå­ä¹¦çš„ç›®å½•ã€‚navmapä¸­åŒ…æ‹¬ä¸€ä¸ªæˆ–è€…å¤šä¸ªnavPointå…ƒç´ ï¼Œæ¯ä¸ªnavPointéƒ½è¦åŒ…æ‹¬ä¸‹åˆ—å…ƒç´ ï¼š</p>
<ul>
<li>playOrderå±æ€§ // è¯´æ˜æ–‡æ¡£çš„é˜…è¯»é¡ºåºï¼Œå’Œopfæ–‡ä»¶ä¸­spineä¸­itemrefå…ƒç´ çš„é¡ºåºç›¸åŒ</li>
<li>navLabel/textå…ƒç´  // ç»™å‡ºç« èŠ‚çš„æ ‡é¢˜é€šå¸¸æ˜¯ç« çš„æ ‡é¢˜æˆ–è€…æ•°å­—ï¼Œå¦‚â€ç¬¬ä¸€ç« â€</li>
<li>contentå…ƒç´  // ä»–çš„srcå±æ€§æŒ‡å‘è¿™äº›å†…å®¹çš„ç‰©ç†èµ„æºã€‚</li>
<li>è¿˜å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªnavPointå…ƒç´  // è¡¨ç¤ºå±‚æ¬¡ç»“æ„</li>
</ul>
<h4 id="5-é—®é¢˜"><a href="#5-é—®é¢˜" class="headerlink" title="5. é—®é¢˜"></a>5. é—®é¢˜</h4><h5 id="5-1-NCXå’ŒOPFæ–‡ä»¶å…ƒæ•°æ®äº¤å‰"><a href="#5-1-NCXå’ŒOPFæ–‡ä»¶å…ƒæ•°æ®äº¤å‰" class="headerlink" title="5.1 NCXå’ŒOPFæ–‡ä»¶å…ƒæ•°æ®äº¤å‰"></a>5.1 NCXå’ŒOPFæ–‡ä»¶å…ƒæ•°æ®äº¤å‰</h5><p>ç”±äº NCX æºè‡ªå…¶ä»–æ ‡å‡†ï¼Œä½¿ç”¨ NCX ç¼–ç çš„ä¿¡æ¯å’Œ OPF å†…å®¹ä¹‹é—´å­˜åœ¨é‡å¤ã€‚å¦‚æœé€šè¿‡ç¨‹åºç”Ÿæˆ EPUBï¼Œè¿™ç®—ä¸ä¸Šä»€ä¹ˆé—®é¢˜ï¼Œå› ä¸ºåŒæ ·çš„ä»£ç å¯è¾“å‡ºåˆ°ä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚ä¸¤ä¸ªä½ç½®çš„ä¿¡æ¯è¦ä¸€è‡´ï¼Œä¸åŒçš„ EPUB è¯»è€…å¯èƒ½ä½¿ç”¨ä¸åŒä½ç½®çš„å€¼ã€‚ï¼ˆå¯å¦‚æœæ‰‹å·¥å»ç¼–å†™å‘¢ï¼Ÿï¼‰</p>
<h5 id="5-2-NCXå’ŒOPF-spineæœ‰ä»€ä¹ˆä¸åŒ"><a href="#5-2-NCXå’ŒOPF-spineæœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="5.2 NCXå’ŒOPF spineæœ‰ä»€ä¹ˆä¸åŒ"></a>5.2 NCXå’ŒOPF spineæœ‰ä»€ä¹ˆä¸åŒ</h5><p>opf spineä¸»è¦ç”¨æ¥æè¿°ç”µå­ä¹¦ç« èŠ‚çš„é¡ºåºï¼Œæ¯”å¦‚ç¬¬ä¸€ç« åç¬¬äºŒç« å†åç¬¬ä¸‰ç«  â€¦</p>
<p>ncxæ–‡ä»¶æè¿°ç”µå­ä¹¦çš„ç›®å½•ç»“æ„ã€‚</p>
<p>ä¸€æ¡æ³•åˆ™å°±æ˜¯ncxåŒ…æ‹¬çš„èŠ‚ç‚¹æ¯”spineå¤šã€‚å®é™…ä¸Šspineçš„æ‰€æœ‰é¡¹éƒ½ä¼šå‡ºç°åœ¨ncxä¸­ï¼Œä½†æ˜¯ncxå¯èƒ½æ›´è¯¦ç»†ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/29/HenCodeå­¦ä¹ ç¬”è®°-1.3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/29/HenCodeå­¦ä¹ ç¬”è®°-1.3/" itemprop="url">Hencodeå­¦ä¹ ç¬”è®°-1.3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-29T10:59:54+08:00">
                2017-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æ–‡å­—çš„ç»˜åˆ¶"><a href="#æ–‡å­—çš„ç»˜åˆ¶" class="headerlink" title="æ–‡å­—çš„ç»˜åˆ¶"></a>æ–‡å­—çš„ç»˜åˆ¶</h1><h2 id="1-Canvasç»˜åˆ¶æ–‡å­—"><a href="#1-Canvasç»˜åˆ¶æ–‡å­—" class="headerlink" title="1. Canvasç»˜åˆ¶æ–‡å­—"></a>1. Canvasç»˜åˆ¶æ–‡å­—</h2><p>canvasç»˜åˆ¶æ–‡å­—æœ‰ä¸‰ç§æ–¹å¼ï¼š1. drawText() 2. drawTextRun() 3. drawTextOnPath()</p>
<h4 id="1-1-drawText-String-text-float-x-float-y-Paint-paint"><a href="#1-1-drawText-String-text-float-x-float-y-Paint-paint" class="headerlink" title="1.1 drawText(String text, float x,  float y, Paint paint)"></a>1.1 drawText(String text, float x,  float y, Paint paint)</h4><blockquote>
<p>è¿™ä¸ªåæ ‡å¯ä»¥è®¤ä¸ºæ˜¯åœ¨æ–‡å­—å·¦ä¸‹è§’ã€‚æ˜¯æ¯”è¾ƒæ¥è¿‘çš„ä½ç½®ï¼Œä½†æ˜¯å¦‚æœè¦ç²¾ç¡®è¿˜æ˜¯ä»¥ä¸‹è¾¹æ‰€è¯´çš„åŸºçº¿ä¸ºå‡†ã€‚</p>
</blockquote>
<h4 id="1-2-drawTextRun"><a href="#1-2-drawTextRun" class="headerlink" title="1.2 drawTextRun()"></a>1.2 drawTextRun()</h4><p>API 23æ–°åŠ å…¥çš„æ–¹æ³•ï¼Œæ¯”drawTextæœ‰ä¸¤ä¸ªæ–°çš„å‚æ•°ä¸Šä¸‹æ–‡å’Œæ–‡å­—æ–¹å‘ï¼Œ ä¸»è¦ç”¨äºæ–‡å­—ç»“æ„æ¯”è¾ƒç‰¹æ®Šçš„æ–‡å­—çš„ç»˜åˆ¶ã€‚</p>
<h4 id="1-3-drawTextOnPath"><a href="#1-3-drawTextOnPath" class="headerlink" title="1.3 drawTextOnPath()"></a>1.3 drawTextOnPath()</h4><p>æ²¿ç€ä¸€æ¡çº¿æ¥ç»˜åˆ¶æ–‡å­—</p>
<pre><code>mPaint.setStyle(Paint.Style.STROKE);
mPaint.setStrokeWidth(2);
mPaint.setColor(Color.BLUE);

Path path = new Path();
path.moveTo(100, 100);
path.lineTo(200, 200);
path.rLineTo(300, 100);
path.rLineTo(400, 200);
canvas.drawPath(path, mPaint);

canvas.drawTextOnPath(&quot;Hello HenCode!&quot;, path, 0, 0, mPaint);
</code></pre><p>æ–¹æ³•ä¸ºdrawTextOnPath(String text, Path path, float hOffset, float vOffset, Paint paint), hOffsetå’ŒvOffsetåˆ†åˆ«æ˜¯æ–‡å­—ç›¸å¯¹äºpathæ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘çš„åç§»é‡</p>
<h4 id="1-4-StaticLayout"><a href="#1-4-StaticLayout" class="headerlink" title="1.4 StaticLayout"></a>1.4 StaticLayout</h4><p>canvas.drawText()åªèƒ½ç»˜åˆ¶å•è¡Œçš„æ–‡å­—ï¼Œè€Œä¸èƒ½æ¢è¡Œã€‚</p>
<ul>
<li>ä¸èƒ½åœ¨viewè¾¹ç¼˜è‡ªåŠ¨æ¢è¡Œ</li>
<li>ä¸èƒ½ä½¿ç”¨\næ¢è¡Œ</li>
</ul>
<p>å¦‚æœè¦ç»˜åˆ¶å¤šè¡Œæ–‡å­—ï¼Œå¿…é¡»æŠŠæ–‡å­—åˆ‡æ–­åä½¿ç”¨drawTextæˆ–è€…ä¸€ä¸€ä½¿ç”¨StaticLayoutã€‚</p>
<p>ä»–æ˜¯android.text.Layoutçš„å­ç±»ï¼Œå•çº¯ç”¨æ¥ç»˜åˆ¶æ–‡å­—çš„ã€‚</p>
<p>å®ƒå¯ä»¥è®¾ç½®å®½åº¦ä¸Šé™æ¥ä½¿æ–‡å­—è‡ªåŠ¨æ¢è¡Œï¼Œæˆ–è€…ä½¿ç”¨\nä½¿æ–‡å­—æ¢è¡Œã€‚</p>
<pre><code>String text1 = &quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&quot;;  
StaticLayout staticLayout1 = new StaticLayout(text1, paint, 600,  
    Layout.Alignment.ALIGN_NORMAL, 1, 0, true);
String text2 = &quot;a\nbc\ndefghi\njklm\nnopqrst\nuvwx\nyz&quot;;  
StaticLayout staticLayout2 = new StaticLayout(text2, paint, 600,  
    Layout.Alignment.ALIGN_NORMAL, 1, 0, true);

...

canvas.save();  
canvas.translate(50, 100);  
staticLayout1.draw(canvas);  
canvas.translate(0, 200);  
staticLayout2.draw(canvas);  
canvas.restore(); 
</code></pre><h2 id="2-Paintå¯¹æ–‡å­—ç»˜åˆ¶çš„è¾…åŠ©"><a href="#2-Paintå¯¹æ–‡å­—ç»˜åˆ¶çš„è¾…åŠ©" class="headerlink" title="2. Paintå¯¹æ–‡å­—ç»˜åˆ¶çš„è¾…åŠ©"></a>2. Paintå¯¹æ–‡å­—ç»˜åˆ¶çš„è¾…åŠ©</h2><h4 id="2-1-è®¾ç½®æ˜¾ç¤ºæ•ˆæœ"><a href="#2-1-è®¾ç½®æ˜¾ç¤ºæ•ˆæœ" class="headerlink" title="2.1 è®¾ç½®æ˜¾ç¤ºæ•ˆæœ"></a>2.1 è®¾ç½®æ˜¾ç¤ºæ•ˆæœ</h4><p>setTextSize() // è®¾ç½®æ–‡å­—å¤§å°</p>
<p>setTextScaleX() // è®¾ç½®æ–‡å­—ç¼©æ”¾</p>
<p>setTextAlign() // è®¾ç½®å¯¹é½æ–¹å¼ï¼Œä¸‰ç§LEFT,RIGHT,CENTER,é»˜è®¤LEFT</p>
<p>setHinting() // è®¾ç½®å­—ä½“å¾®è°ƒ</p>
<p>ç°åœ¨çš„ Android è®¾å¤‡å¤§å¤šæ•°éƒ½æ˜¯æ˜¯ç”¨çš„çŸ¢é‡å­—ä½“ã€‚çŸ¢é‡å­—ä½“çš„åŸç†æ˜¯å¯¹æ¯ä¸ªå­—ä½“ç»™å‡ºä¸€ä¸ªå­—å½¢çš„çŸ¢é‡æè¿°ï¼Œç„¶åä½¿ç”¨è¿™ä¸€ä¸ªçŸ¢é‡æ¥å¯¹æ‰€æœ‰çš„å°ºå¯¸çš„å­—ä½“æ¥ç”Ÿæˆå¯¹åº”çš„å­—å½¢ã€‚ç”±äºä¸å¿…ä¸ºæ‰€æœ‰å­—å·éƒ½è®¾è®¡å®ƒä»¬çš„å­—ä½“å½¢çŠ¶ï¼Œæ‰€ä»¥åœ¨å­—å·è¾ƒå¤§çš„æ—¶å€™ï¼ŒçŸ¢é‡å­—ä½“ä¹Ÿèƒ½å¤Ÿä¿æŒå­—ä½“çš„åœ†æ¶¦ï¼Œè¿™æ˜¯çŸ¢é‡å­—ä½“çš„ä¼˜åŠ¿ã€‚ä¸è¿‡å½“æ–‡å­—çš„å°ºå¯¸è¿‡å°ï¼ˆæ¯”å¦‚é«˜åº¦å°äº 16 åƒç´ ï¼‰ï¼Œæœ‰äº›æ–‡å­—ä¼šç”±äºå¤±å»è¿‡å¤šç»†èŠ‚è€Œå˜å¾—ä¸å¤ªå¥½çœ‹ã€‚ hinting æŠ€æœ¯å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜çš„ï¼šé€šè¿‡å‘å­—ä½“ä¸­åŠ å…¥ hinting ä¿¡æ¯ï¼Œè®©çŸ¢é‡å­—ä½“åœ¨å°ºå¯¸è¿‡å°çš„æ—¶å€™å¾—åˆ°é’ˆå¯¹æ€§çš„ä¿®æ­£ï¼Œä»è€Œæé«˜æ˜¾ç¤ºæ•ˆæœã€‚æ•ˆæœå›¾ç›—ä¸€å¼ ç»´åŸºç™¾ç§‘çš„ï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig65wwv1yj20ki0bywje.jpg" alt=""></p>
<p><strong>setTextSkewX() // è®¾ç½®æ–‡å­—å€¾æ–œ</strong></p>
<p>setTextLocation() // è®¾ç½®è¯­è¨€åŒºåŸŸ</p>
<p><strong>setLetterPadding() // è®¾ç½®å­—ç¬¦é—´è·</strong></p>
<p><strong>setFontFeatureSettings() // è®¾ç½®å­—ä½“æ ·å¼</strong></p>
<pre><code>paint.setFontFeatureSettings(&quot;scmp&quot;); // è®¾ç½®ä¸ºsmall cap
canvas.drawText(&quot;Hello Hencode&quot;, 100, 100, paint);
</code></pre><p>è¿™ä¸ªä¸œè¥¿ä¸æ‡‚ï¼Œä»¥å<a href="https://www.w3.org/TR/css-fonts-3/#font-feature-settings-prop" target="_blank" rel="noopener">è¡¥å……ä¸€ä¸‹</a></p>
<p><strong>setTypeFace() // è®¾ç½®å­—ä½“</strong></p>
<pre><code>paint.setTypeface(Typeface.DEFAULT);

paint.setTypeface(Typeface.SERIF);

paint.setTypeface(Typeface.createFromAssert(getContext().getAssert(), &quot;xx.ttf&quot;))
</code></pre><p>setUnderlineText() // æ˜¯å¦åŠ ä¸‹åˆ’çº¿<br>setFakeBoldText() // è®¾ç½®ä¼ªç²—ä½“<br>setStrikeThruText() // æ˜¯å¦åŠ åˆ é™¤çº¿</p>
<p><strong>setElegantTextHeight(boolean elegant) // æ˜¯å¦å¼€å¯ä¼˜é›…çš„é«˜åº¦</strong></p>
<ol>
<li>æŠŠã€Œå¤§é«˜ä¸ªã€æ–‡å­—çš„é«˜åº¦æ¢å¤ä¸ºåŸå§‹é«˜åº¦ï¼›</li>
<li>å¢å¤§æ¯è¡Œæ–‡å­—çš„ä¸Šä¸‹è¾¹ç•Œï¼Œæ¥å®¹çº³è¢«åŠ é«˜äº†çš„æ–‡å­—ã€‚</li>
</ol>
<p><strong>setSubpixelText() // æ˜¯å¦å¼€å¯æ¬¡åƒç´ çº§æŠ—é”¯é½¿ï¼Œå°±æ˜¯å¢å¼ºæŠ—é”¯é½¿æ•ˆæœã€‚</strong></p>
<p><strong>setLinearText() // è®¾ç½®liear text</strong></p>
<h4 id="2-2-æµ‹é‡æ–‡å­—å°ºå¯¸"><a href="#2-2-æµ‹é‡æ–‡å­—å°ºå¯¸" class="headerlink" title="2.2 æµ‹é‡æ–‡å­—å°ºå¯¸"></a>2.2 æµ‹é‡æ–‡å­—å°ºå¯¸</h4><h5 id="2-2-1-getFontSpacing-è·å¾—æ¨èçš„è¡Œè·-å³æ˜¯ç›¸é‚»çš„baselineä¹‹é—´çš„è·ç¦»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º"><a href="#2-2-1-getFontSpacing-è·å¾—æ¨èçš„è¡Œè·-å³æ˜¯ç›¸é‚»çš„baselineä¹‹é—´çš„è·ç¦»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º" class="headerlink" title="2.2.1 getFontSpacing() // è·å¾—æ¨èçš„è¡Œè·,å³æ˜¯ç›¸é‚»çš„baselineä¹‹é—´çš„è·ç¦»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º"></a>2.2.1 getFontSpacing() // è·å¾—æ¨èçš„è¡Œè·,å³æ˜¯ç›¸é‚»çš„baselineä¹‹é—´çš„è·ç¦»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</h5><pre><code>canvas.drawText(texts[0], 100, 150, paint);  
canvas.drawText(texts[1], 100, 150 + paint.getFontSpacing, paint);  
canvas.drawText(texts[2], 100, 150 + paint.getFontSpacing * 2, paint);  
</code></pre><p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig66d27efj20ev06j401.jpg" alt=""></p>
<h5 id="2-2-2-getFontMatrics-è·å¾—FontMatrixï¼Œ-FontMatrixæ˜¯ä¸€ä¸ªç›¸å¯¹ä¸“ä¸šçš„å·¥å…·ç±»ï¼Œæä¾›äº†å‡ ä¸ªæ–‡å­—æ’å°æ–¹é¢çš„æ•°å€¼ï¼šascent-descent-top-bottom-leading"><a href="#2-2-2-getFontMatrics-è·å¾—FontMatrixï¼Œ-FontMatrixæ˜¯ä¸€ä¸ªç›¸å¯¹ä¸“ä¸šçš„å·¥å…·ç±»ï¼Œæä¾›äº†å‡ ä¸ªæ–‡å­—æ’å°æ–¹é¢çš„æ•°å€¼ï¼šascent-descent-top-bottom-leading" class="headerlink" title="2.2.2 getFontMatrics() // è·å¾—FontMatrixï¼Œ FontMatrixæ˜¯ä¸€ä¸ªç›¸å¯¹ä¸“ä¸šçš„å·¥å…·ç±»ï¼Œæä¾›äº†å‡ ä¸ªæ–‡å­—æ’å°æ–¹é¢çš„æ•°å€¼ï¼šascent, descent, top,bottom, leading;"></a>2.2.2 getFontMatrics() // è·å¾—FontMatrixï¼Œ FontMatrixæ˜¯ä¸€ä¸ªç›¸å¯¹ä¸“ä¸šçš„å·¥å…·ç±»ï¼Œæä¾›äº†å‡ ä¸ªæ–‡å­—æ’å°æ–¹é¢çš„æ•°å€¼ï¼šascent, descent, top,bottom, leading;</h5><p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig66iud3gj20ik0bn41l.jpg" alt=""></p>
<p>è¿™ä¸ªä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨åˆ°</p>
<h5 id="2-2-3-getTextBounds-String-text-int-start-int-end-Rect-bounds-è·å¾—æ–‡å­—çš„æ˜¾ç¤ºèŒƒå›´"><a href="#2-2-3-getTextBounds-String-text-int-start-int-end-Rect-bounds-è·å¾—æ–‡å­—çš„æ˜¾ç¤ºèŒƒå›´" class="headerlink" title="2.2.3 getTextBounds(String text, int start, int end, Rect bounds) // è·å¾—æ–‡å­—çš„æ˜¾ç¤ºèŒƒå›´"></a>2.2.3 getTextBounds(String text, int start, int end, Rect bounds) // è·å¾—æ–‡å­—çš„æ˜¾ç¤ºèŒƒå›´</h5><p>textæ˜¯æ–‡å­—ï¼Œstart,endæ˜¯æŒ‡å¾…æµ‹çš„æ–‡æœ¬çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ï¼Œrectæ˜¯æµ‹é‡å®Œè¦èµ‹å€¼çš„çŸ©å½¢ã€‚</p>
<pre><code>paint.setStyle(Paint.Style.FILL);  
canvas.drawText(text, offsetX, offsetY, paint);

paint.getTextBounds(text, 0, text.length(), bounds);  
bounds.left += offsetX;  
bounds.top += offsetY;  
bounds.right += offsetX;  
bounds.bottom += offsetY;  
paint.setStyle(Paint.Style.STROKE);  
canvas.drawRect(bounds, paint);  
</code></pre><p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig66pdyg4j20ct02tmxf.jpg" alt=""></p>
<h4 id="2-2-4-measureText-String-text-æµ‹é‡æ–‡å­—å®½åº¦"><a href="#2-2-4-measureText-String-text-æµ‹é‡æ–‡å­—å®½åº¦" class="headerlink" title="2.2.4 measureText(String text) //  æµ‹é‡æ–‡å­—å®½åº¦"></a>2.2.4 measureText(String text) //  æµ‹é‡æ–‡å­—å®½åº¦</h4><pre><code>canvas.drawText(text, offsetX, offsetY, paint);  
float textWidth = paint.measureText(text);  
canvas.drawLine(offsetX, offsetY, offsetX + textWidth, offsetY, paint);  
</code></pre><p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig671on56j20or04a0te.jpg" alt=""></p>
<blockquote>
<p>æ³¨æ„ï¼š getTextBounds()å’ŒmeasureText()çš„åŒºåˆ«ï¼š</p>
<p>å¦‚æœä½ ç”¨ä»£ç åˆ†åˆ«ä½¿ç”¨ getTextBounds() å’Œ measureText() æ¥æµ‹é‡æ–‡å­—çš„å®½åº¦ï¼Œä½ ä¼šå‘ç° measureText() æµ‹å‡ºæ¥çš„å®½åº¦æ€»æ˜¯æ¯” getTextBounds() å¤§ä¸€ç‚¹ç‚¹ã€‚è¿™æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ–¹æ³•å…¶å®æµ‹é‡çš„æ˜¯ä¸¤ä¸ªä¸ä¸€æ ·çš„ä¸œè¥¿ã€‚</p>
<ul>
<li>getTextBounds()æµ‹é‡çš„æ˜¯æ–‡å­—çš„æ˜¾ç¤ºèŒƒå›´ï¼Œè¿™ä¸ªçŸ©å½¢æ°å¥½èƒ½å¤ŸåŒ…è£¹ä½æ–‡å­—</li>
<li>measureText()æµ‹é‡çš„æ˜¯æ–‡å­—ç»˜åˆ¶æ—¶æ‰€å çš„å®½åº¦ï¼ŒåŒ…æ‹¬äº†å­—ç¬¦é—´è·ç­‰</li>
</ul>
</blockquote>
<h4 id="2-2-5-getTextWidths-String-text-float-widths-è·å–æ¯ä¸ªå­—ç¬¦çš„å®½åº¦ï¼Œå¹¶ä¼ å…¥widthæ•°ç»„ä¸­"><a href="#2-2-5-getTextWidths-String-text-float-widths-è·å–æ¯ä¸ªå­—ç¬¦çš„å®½åº¦ï¼Œå¹¶ä¼ å…¥widthæ•°ç»„ä¸­" class="headerlink" title="2.2.5 getTextWidths(String text, float[] widths) // è·å–æ¯ä¸ªå­—ç¬¦çš„å®½åº¦ï¼Œå¹¶ä¼ å…¥widthæ•°ç»„ä¸­"></a>2.2.5 getTextWidths(String text, float[] widths) // è·å–æ¯ä¸ªå­—ç¬¦çš„å®½åº¦ï¼Œå¹¶ä¼ å…¥widthæ•°ç»„ä¸­</h4><h4 id="2-2-6-breakText-æˆªå–æŸé•¿åº¦çš„å­—ç¬¦ä¸²"><a href="#2-2-6-breakText-æˆªå–æŸé•¿åº¦çš„å­—ç¬¦ä¸²" class="headerlink" title="2.2.6 breakText() // æˆªå–æŸé•¿åº¦çš„å­—ç¬¦ä¸²"></a>2.2.6 breakText() // æˆªå–æŸé•¿åº¦çš„å­—ç¬¦ä¸²</h4><p>google apiæ˜¯è¿™æ ·å†™çš„<br>Measure the text, stopping early if the measured width exceeds maxWidth.æ„æ€æ˜¯æµ‹é‡æ–‡æœ¬ï¼Œå¦‚æœå®½åº¦è¶…è¿‡ç»™å®šçš„å®½åº¦å°±åœæ­¢æµ‹é‡ã€‚å…¶æ•ˆæœå°±æ˜¯å¦‚æœä½ çš„å­—ç¬¦ä¸²çš„é•¿åº¦å¤§äºbreakText()ä¸­æŒ‡å®šçš„æœ€å¤§é•¿åº¦ï¼Œdrawtextçš„æ—¶å€™å°±åªæ˜¾ç¤ºè¿™ä¸ªè¢«æˆªå–çš„å®šé•¿çš„æ–‡å­—ã€‚è¿”å›å€¼ä¸ºæˆªå–çš„å­—ç¬¦çš„ä¸ªæ•°ã€‚</p>
<pre><code>String text = &quot;Hencode is very very very ... nice!&quot;;
mPaint.setTextSize(64);
int i = mPaint.breakText(text.toCharArray(), 0, 17, 600, new float[]{});
canvas.drawText(text.toCharArray(), 0, i, 100, 100, mPaint);
</code></pre><p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig67950cnj21080m4grf.jpg" alt=""></p>
<h4 id="2-2-7-å…‰æ ‡ç›¸å…³"><a href="#2-2-7-å…‰æ ‡ç›¸å…³" class="headerlink" title="2.2.7 å…‰æ ‡ç›¸å…³"></a>2.2.7 å…‰æ ‡ç›¸å…³</h4><p>å¯¹äºåƒEditTextä¸€æ ·çš„åœºæ™¯ï¼Œå°±ä¼šéœ€è¦ç»˜åˆ¶å…‰æ ‡ï¼Œåœ¨API 23å¼€å§‹å¼•å…¥ä¸¤ä¸ªæ–°æ–¹æ³•æ¥è®¡ç®—å…‰æ ‡ã€‚(è¿™è·Ÿå…‰æ ‡æ²¡æœ‰æ¯›çº¿å…³ç³»è²Œä¼¼ï¼Œä¸»è¦æ˜¯æµ‹é‡å­—ç¬¦çš„å®½åº¦)</p>
<h5 id="2-2-7-1-getRunAdvance-String-text-int-start-int-end-int-contextStart-int-contextEnd-boolean-isRtl-int-offset"><a href="#2-2-7-1-getRunAdvance-String-text-int-start-int-end-int-contextStart-int-contextEnd-boolean-isRtl-int-offset" class="headerlink" title="2.2.7.1 getRunAdvance(String text, int start, int end, int contextStart, int contextEnd, boolean isRtl, int offset) //"></a>2.2.7.1 getRunAdvance(String text, int start, int end, int contextStart, int contextEnd, boolean isRtl, int offset) //</h5><table>
<thead>
<tr>
<th>params</th>
<th>des</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>CharSequence: the text to measure. Cannot be null.</td>
</tr>
<tr>
<td>start</td>
<td>int: the index of the start of the range to measure</td>
</tr>
<tr>
<td>end</td>
<td>int: the index + 1 of the end of the range to measure</td>
</tr>
<tr>
<td>contextStart</td>
<td>int: the index of the start of the shaping context</td>
</tr>
<tr>
<td>contextEnd</td>
<td>int: the index + 1 of the end of the shaping context</td>
</tr>
<tr>
<td>isRtl</td>
<td>boolean: whether the run is in RTL direction</td>
</tr>
<tr>
<td>offset</td>
<td>int: index of caret position</td>
</tr>
</tbody>
</table>
<p>return : width measurement between start and offset</p>
<p>å³æ˜¯è¯´ textæŒ‡çš„æ˜¯åŸæ–‡æœ¬ï¼Œstart,endæŒ‡çš„æ˜¯è¦æµ‹é‡çš„å¼€å§‹å’Œç»“æŸçš„ä½ç½®ï¼ŒcontextStartï¼ŒcontextEndä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œ isrtlæ˜¯å¦åè½¬å­—ç¬¦ä¸²ï¼ŒoffsetæŒ‡è¦æ’å…¥çš„ä½ç½®ã€‚</p>
<p>è¿”å›çš„æ˜¯startå’Œoffsetä¹‹é—´çš„è·ç¦»ã€‚</p>
<pre><code>mPaint.setTextSize(36);
// åŒ…å«ç‰¹æ®Šç¬¦å·çš„ç»˜åˆ¶ï¼ˆå¦‚ emoji è¡¨æƒ…ï¼‰
String text = &quot;Hello HenCoder \uD83C\uDDE8\uD83C\uDDF3&quot;; // &quot;Hello HenCoder ğŸ‡¨ğŸ‡³&quot;
int start = 0;
int end = text.length();
int contextStart = 0;
int contextEnd = text.length();
boolean isRtl = false;
int offset = text.length();
float advance = mPaint.getRunAdvance(text, start, end, contextStart, contextEnd, isRtl, offset - 4);
canvas.drawText(text, 100, 100, mPaint);
canvas.drawLine(100 + advance, 60, 100 + advance, 100, mPaint);
</code></pre><p><img src="https://ws3.sinaimg.cn/large/52eb2279ly1fig67pon53j215s0owdru.jpg" alt=""></p>
<h5 id="2-2-7-2-getOffsetForAdvance-CharSequence-text-int-start-int-end-int-contextStart-int-contextEnd-boolean-isRtl-float-advance-ç»™å‡ºä¸€ä¸ªä½ç½®çš„åƒç´ å€¼ï¼Œè®¡ç®—å‡ºæ–‡å­—ä¸­æœ€æ¥è¿‘è¿™ä¸ªä½ç½®çš„å­—ç¬¦åç§»é‡"><a href="#2-2-7-2-getOffsetForAdvance-CharSequence-text-int-start-int-end-int-contextStart-int-contextEnd-boolean-isRtl-float-advance-ç»™å‡ºä¸€ä¸ªä½ç½®çš„åƒç´ å€¼ï¼Œè®¡ç®—å‡ºæ–‡å­—ä¸­æœ€æ¥è¿‘è¿™ä¸ªä½ç½®çš„å­—ç¬¦åç§»é‡" class="headerlink" title="2.2.7.2 getOffsetForAdvance(CharSequence text, int start, int end, int contextStart, int contextEnd, boolean isRtl, float advance) // ç»™å‡ºä¸€ä¸ªä½ç½®çš„åƒç´ å€¼ï¼Œè®¡ç®—å‡ºæ–‡å­—ä¸­æœ€æ¥è¿‘è¿™ä¸ªä½ç½®çš„å­—ç¬¦åç§»é‡"></a>2.2.7.2 getOffsetForAdvance(CharSequence text, int start, int end, int contextStart, int contextEnd, boolean isRtl, float advance) // ç»™å‡ºä¸€ä¸ªä½ç½®çš„åƒç´ å€¼ï¼Œè®¡ç®—å‡ºæ–‡å­—ä¸­æœ€æ¥è¿‘è¿™ä¸ªä½ç½®çš„å­—ç¬¦åç§»é‡</h5><h5 id="2-2-8-hasGlyph-String-string-æ£€æŸ¥æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—å½¢ã€‚"><a href="#2-2-8-hasGlyph-String-string-æ£€æŸ¥æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—å½¢ã€‚" class="headerlink" title="2.2.8 hasGlyph(String string) // æ£€æŸ¥æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—å½¢ã€‚"></a>2.2.8 hasGlyph(String string) // æ£€æŸ¥æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—å½¢ã€‚</h5><p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1flgaf31rskj31120damyn.jpg" alt=""></p>
<h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/24/è·å–Androidç³»ç»Ÿæƒé™/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/24/è·å–Androidç³»ç»Ÿæƒé™/" itemprop="url">åº”ç”¨è·å–ç³»ç»Ÿæƒé™</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-24T18:33:25+08:00">
                2017-11-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="åº”ç”¨è·å–ç³»ç»Ÿæƒé™"><a href="#åº”ç”¨è·å–ç³»ç»Ÿæƒé™" class="headerlink" title="åº”ç”¨è·å–ç³»ç»Ÿæƒé™"></a>åº”ç”¨è·å–ç³»ç»Ÿæƒé™</h1><p>å°†ç¨‹åºæ‰“åŒ…æˆç³»ç»Ÿåº”ç”¨æ‰èƒ½è·å¾—ç³»ç»Ÿæƒé™</p>
<ol>
<li><p>æ·»åŠ æ¸…å•æ–‡ä»¶</p>
<pre><code>android:sharedUserId=&quot;android.uid.system&quot;
</code></pre></li>
<li><p>buildæœªç­¾åapk</p>
<p> android studio â€“&gt; build â€“&gt; build apk(s)</p>
</li>
<li><p>æ‰¾åˆ°ç³»ç»Ÿç­¾åç§˜é’¥å’Œç³»ç»Ÿç­¾åå·¥å…·</p>
<p> ç³»ç»Ÿå¯†é’¥ä¸ºï¼šplatform.pk8å’Œplatform.x509.pem</p>
<p> AOSPè·¯å¾„ï¼š build\target\product\security</p>
<p> å·¥å…·ä¸ºï¼šsignApk.jar</p>
<p> AOSPè·¯å¾„ï¼š/out/host/linux-x86/framework/ signApk.jar</p>
</li>
<li><p>å¯¹æœªç­¾åapkè¿›è¡Œç­¾å</p>
<p> ä½¿ç”¨ä¸‹è¾¹çš„å‘½ä»¤è¿›è¡Œç­¾å</p>
<pre><code>java -jar $(signApk.jarçš„å…¨è·¯å¾„åœ°å€) $(platform.x509.pemçš„å…¨è·¯å¾„åœ°å€) $(platform.pk8çš„å…¨è·¯å¾„åœ°å€) $(æœªç­¾åapkæ–‡ä»¶çš„å…¨è·¯å¾„åœ°å€) $(è¦ç”Ÿæˆçš„apkæ–‡ä»¶çš„å…¨è·¯å¾„åœ°å€) 
</code></pre></li>
<li><p>æ”¾å…¥/system/app/æ–‡ä»¶å¤¹ä¸‹ï¼ˆéœ€è¦rootæƒé™ï¼‰</p>
<pre><code>adb remount
adb push $(ç³»ç»Ÿç­¾åè¿‡çš„apkå…¨è·¯å¾„åœ°å€) /system/app/
</code></pre></li>
</ol>
<p><a href="http://pan.baidu.com/s/1nurbgYd" target="_blank" rel="noopener">ç­¾åå·¥å…·å’Œç­¾åç§˜é’¥ä¸‹è½½åœ°å€</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/24/è‡ªå®šä¹‰viewgroupè¸©å‘è®°å½•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/24/è‡ªå®šä¹‰viewgroupè¸©å‘è®°å½•/" itemprop="url">ã€è¸©å‘è®°å½•ã€‘è‡ªå®šä¹‰ViewGroup</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-24T18:33:25+08:00">
                2017-11-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ã€è¸©å‘è®°å½•ã€‘è‡ªå®šä¹‰ViewGroup"><a href="#ã€è¸©å‘è®°å½•ã€‘è‡ªå®šä¹‰ViewGroup" class="headerlink" title="ã€è¸©å‘è®°å½•ã€‘è‡ªå®šä¹‰ViewGroup"></a>ã€è¸©å‘è®°å½•ã€‘è‡ªå®šä¹‰ViewGroup</h1><h4 id="1-è·å–è‡ªå®šä¹‰viewgroupå¯¹è±¡ä¸ºç©º"><a href="#1-è·å–è‡ªå®šä¹‰viewgroupå¯¹è±¡ä¸ºç©º" class="headerlink" title="1.è·å–è‡ªå®šä¹‰viewgroupå¯¹è±¡ä¸ºç©º"></a>1.è·å–è‡ªå®šä¹‰viewgroupå¯¹è±¡ä¸ºç©º</h4><p>è§£å†³æ–¹æ³•:</p>
<p>æ£€æŸ¥è‡ªå®šä¹‰viewgroupçš„æ„é€ æ–¹æ³•</p>
<pre><code>public SearchHistoryView(Context context) {
    this(context, null);
}

public SearchHistoryView(Context context, AttributeSet attrs) {
    this(context, attrs, 0);
}

public SearchHistoryView(Context context, AttributeSet attrs, int defStyleAttr) {
    super(context, attrs, defStyleAttr);
}
</code></pre><p>çœ‹æ„é€ æ–¹æ³•è°ƒç”¨æ˜¯å¦æ­£ç¡®ï¼Œå‚æ•°æ˜¯å¦æ­£ç¡®ã€‚æˆ‘å‡ºç°è¿™ä¸ªé”™è¯¯æ˜¯åœ¨ä¸¤ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•ä¸­æŠŠç¬¬äºŒä¸ªå‚æ•°å†™æˆäº†nullå¯¼è‡´è¿™ä¸ªé”™è¯¯ã€‚</p>
<p>åŸå› :</p>
<p>åœ¨è‡ªå®šä¹‰viewgroupçš„ç±»ä¸­ï¼Œæ„é€ æ–¹æ³•ä¸­ä¸€èˆ¬ä¼šè°ƒç”¨ä¸¤ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œåœ¨å†™æ„é€ æ–¹æ³•æ—¶æ³¨æ„ï¼Œä¸€èˆ¬éƒ½æ˜¯æœ€åè°ƒç”¨this(arg1, arg2,arg3)è¿™ä¸ªæ„é€ æ–¹æ³•ï¼Œå¦‚æœå‡ºç°å¯¹è±¡ä¸ºç©ºçš„æƒ…å†µï¼Œæ£€æŸ¥æ„é€ æ–¹æ³•ï¼Œå‚æ•°æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦è°ƒç”¨æ­£ç¡®ã€‚</p>
<h4 id="2-è‡ªå®šä¹‰viewgroupï¼Œç›´æ¥åœ¨å¸ƒå±€ä¸­æ·»åŠ å­viewæ­£å¸¸ï¼Œä»£ç æ·»åŠ viewæ—¶å‡ºç°java-lang-ClassCastException-android-view-ViewGroup-LayoutParams-cannot-be-cast-to-android-view-ViewGroup-MarginLayoutParams"><a href="#2-è‡ªå®šä¹‰viewgroupï¼Œç›´æ¥åœ¨å¸ƒå±€ä¸­æ·»åŠ å­viewæ­£å¸¸ï¼Œä»£ç æ·»åŠ viewæ—¶å‡ºç°java-lang-ClassCastException-android-view-ViewGroup-LayoutParams-cannot-be-cast-to-android-view-ViewGroup-MarginLayoutParams" class="headerlink" title="2.è‡ªå®šä¹‰viewgroupï¼Œç›´æ¥åœ¨å¸ƒå±€ä¸­æ·»åŠ å­viewæ­£å¸¸ï¼Œä»£ç æ·»åŠ viewæ—¶å‡ºç°java.lang.ClassCastException: android.view.ViewGroup$LayoutParams cannot be cast to android.view.ViewGroup$MarginLayoutParams"></a>2.è‡ªå®šä¹‰viewgroupï¼Œç›´æ¥åœ¨å¸ƒå±€ä¸­æ·»åŠ å­viewæ­£å¸¸ï¼Œä»£ç æ·»åŠ viewæ—¶å‡ºç°java.lang.ClassCastException: android.view.ViewGroup$LayoutParams cannot be cast to android.view.ViewGroup$MarginLayoutParams</h4><p>è§£å†³æ–¹æ³•:</p>
<p>è‡ªå®šä¹‰LayoutParamsç±»ï¼Œ</p>
<pre><code>public class LayoutParams extends MarginLayoutParams {

    public int gravity = -1;

    public LayoutParams(Context c, AttributeSet attrs) {
        super(c, attrs);
    }

    public LayoutParams(int width, int height) {
        super(width, height);
        gravity = Gravity.TOP;
    }

    public LayoutParams(int width, int height, int gravity) {
        super(width, height);
        this.gravity = gravity;
    }

    public LayoutParams(ViewGroup.LayoutParams source) {
        super(source);
    }
}
</code></pre><p>å¹¶åœ¨è‡ªå®šä¹‰viewgroupç±»ä¸­é‡å†™å¦‚ä¸‹å‡ ä¸ªæ„é€ æ–¹æ³•</p>
<pre><code>@Override
protected LayoutParams generateDefaultLayoutParams() {
    return new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
}

@Override
protected boolean checkLayoutParams(ViewGroup.LayoutParams p) {
    return super.checkLayoutParams(p) &amp;&amp; p instanceof LayoutParams;
}

@Override
protected LayoutParams generateLayoutParams(ViewGroup.LayoutParams p) {
    return new LayoutParams(p);
}

@Override
public LayoutParams generateLayoutParams(AttributeSet attrs) {
    return new LayoutParams(getContext(), attrs);
}
</code></pre><p>åŸå› :</p>
<p>æˆ‘æ˜¯æŒ‰ç…§ç½‘ä¸Šçš„zhyå¤§ç¥çš„flowlayoutæ•™ç¨‹å†™ä¸‹æ¥çš„ï¼Œä»–æ˜¯åœ¨è‡ªå®šä¹‰viewgroupä¸­é‡å†™äº†generatelayoutparams()æ–¹æ³•ï¼Œç„¶ååœ¨onmeasureä¸­ç›´æ¥è®²layoutparamsç›´æ¥å¼ºè½¬æˆmarginlayoutparamsï¼Œåšdemoçš„æ—¶å€™å› ä¸ºæ˜¯ç›´æ¥åœ¨xmlä¸­æŠŠå­viewæ·»åŠ åˆ°viewgroupæ§ä»¶ä¸­ï¼Œè¿™ç§åšæ³•æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯åœ¨å†™é¡¹ç›®çš„æ—¶å€™å› ä¸ºéœ€è¦åŠ¨æ€æ·»åŠ å¸ƒå±€ï¼Œè¿™æ—¶å€™å°±å‡ºç°äº†ä»¥ä¸Šçš„é—®é¢˜ã€‚å»ºè®®å»çœ‹ä¸€ä¸‹layoutparamsçš„çŸ¥è¯†ã€‚</p>
<h4 id="3-å­viewè®¾ç½®äº†marginï¼Œä½†æ˜¯åœ¨viewgroupä¸­çœ‹åˆ°logæ‰“å°marginè¿˜æ˜¯0"><a href="#3-å­viewè®¾ç½®äº†marginï¼Œä½†æ˜¯åœ¨viewgroupä¸­çœ‹åˆ°logæ‰“å°marginè¿˜æ˜¯0" class="headerlink" title="3.å­viewè®¾ç½®äº†marginï¼Œä½†æ˜¯åœ¨viewgroupä¸­çœ‹åˆ°logæ‰“å°marginè¿˜æ˜¯0"></a>3.å­viewè®¾ç½®äº†marginï¼Œä½†æ˜¯åœ¨viewgroupä¸­çœ‹åˆ°logæ‰“å°marginè¿˜æ˜¯0</h4><p>è§£å†³æ–¹æ³•ï¼š</p>
<p>å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯åŠ¨æ€æ·»åŠ å­viewçš„æ–¹å¼</p>
<pre><code>TextView textView = (TextView) LayoutInflater.from(SearchActivity.this).inflate(R.layout.item_shv_textview, null, false);
           textView.setText(bean);
</code></pre><p>ä¸Šè¾¹çš„ä»£ç ä¸€èˆ¬éƒ½æ˜¯æˆ‘å†™inflat viewçš„ä»£ç ï¼Œ3ä¸ªå‚æ•°ä¸­,arg1ä»£è¡¨èµ„æºæ–‡ä»¶ï¼Œarg2ä»£è¡¨çˆ¶å¸ƒå±€ï¼Œarg3ä»£è¡¨æ˜¯å¦ä¾èµ–çˆ¶å¸ƒå±€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨åˆ°çš„æ—¶å€™æˆ‘éƒ½æ˜¯ä¸Šè¾¹çš„ä»£ç ï¼Œä½†æ˜¯åœ¨è¿™é‡Œç”¨è¦æ”¹ä¸º</p>
<pre><code>TextView textView = (TextView) LayoutInflater.from(SearchActivity.this).inflate(R.layout.item_shv_textview, mParent, false);
            textView.setText(bean);
</code></pre><p> å°±æ˜¯è¯´å¿…é¡»æŒ‡å®šä»–æ‰€åœ¨çš„viewgroupï¼Œmarginå±æ€§æ‰æœ‰å€¼.</p>
<p>åŸå› ï¼š</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/24/çŸ¥è¯†ä½“ç³»/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/24/çŸ¥è¯†ä½“ç³»/" itemprop="url">çŸ¥è¯†ä½“ç³»å’Œç¢ç‰‡åŒ–é˜…è¯»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-24T18:33:25+08:00">
                2017-11-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="çŸ¥è¯†ä½“ç³»å’Œç¢ç‰‡åŒ–é˜…è¯»"><a href="#çŸ¥è¯†ä½“ç³»å’Œç¢ç‰‡åŒ–é˜…è¯»" class="headerlink" title="çŸ¥è¯†ä½“ç³»å’Œç¢ç‰‡åŒ–é˜…è¯»"></a>çŸ¥è¯†ä½“ç³»å’Œç¢ç‰‡åŒ–é˜…è¯»</h1><p><a href="https://www.zhihu.com/question/19591121" target="_blank" rel="noopener">çŸ¥ä¹ä¸Šå…³äºçŸ¥è¯†ä½“ç³»çš„é—®ç­”</a></p>
<h2 id="æ¦‚å¿µåŠè¯¯åŒº"><a href="#æ¦‚å¿µåŠè¯¯åŒº" class="headerlink" title="æ¦‚å¿µåŠè¯¯åŒº"></a>æ¦‚å¿µåŠè¯¯åŒº</h2><p>é€šä¿—ç‚¹çš„è§£é‡Šå°±æ˜¯å°†ä¸€äº›é›¶ç¢çš„ï¼Œåˆ†æ•£çš„ï¼Œç›¸å¯¹ç‹¬ç«‹çš„çŸ¥è¯†ç‚¹æˆ–è€…æ¦‚å¿µåŠ ä»¥æ•´åˆï¼Œä½¿ä¹‹å½¢æˆå…·æœ‰ä¸€å®šè”ç³»çš„çŸ¥è¯†ç³»ç»Ÿã€‚</p>
<h3 id="ä¸ªäººçŸ¥è¯†ä½“ç³»çš„ä¸¤å¤§è¯¯åŒº"><a href="#ä¸ªäººçŸ¥è¯†ä½“ç³»çš„ä¸¤å¤§è¯¯åŒº" class="headerlink" title="ä¸ªäººçŸ¥è¯†ä½“ç³»çš„ä¸¤å¤§è¯¯åŒº"></a>ä¸ªäººçŸ¥è¯†ä½“ç³»çš„ä¸¤å¤§è¯¯åŒº</h3><ol>
<li>ä»¥â€œçŸ¥è¯†æ”¶é›†â€ä¸ºä¸­å¿ƒçš„å­¦ä¹ è§‚å¿µ</li>
<li>â€œå›«å›µåæ£ï¼Œä¸æ±‚ç”šè§£â€çš„å­¦ä¹ æ–¹æ³•</li>
</ol>
<p><img src="https://pic2.zhimg.com/50/v2-fde7d30ff017536a0895edcd026d6b91_hd.jpg" alt=""></p>
<h2 id="å»ºç«‹çŸ¥è¯†ä½“ç³»çš„ä¸€èˆ¬æ–¹æ³•"><a href="#å»ºç«‹çŸ¥è¯†ä½“ç³»çš„ä¸€èˆ¬æ–¹æ³•" class="headerlink" title="å»ºç«‹çŸ¥è¯†ä½“ç³»çš„ä¸€èˆ¬æ–¹æ³•"></a>å»ºç«‹çŸ¥è¯†ä½“ç³»çš„ä¸€èˆ¬æ–¹æ³•</h2><ol>
<li><p>æ˜ç¡®çŸ¥è¯†ä½“ç³»çš„ä¸»é¢˜å’Œç”¨é€”</p>
<p> æˆ‘çš„çŸ¥è¯†ä½“ç³»æ˜¯ä»€ä¹ˆï¼Œæˆ‘åšè¿™ä¸ªæ˜¯ä¸ºäº†ä»€ä¹ˆã€‚</p>
<p> åªæœ‰ææ¸…æ¥šè‡ªå·±çŸ¥è¯†ä½“ç³»çš„æ–¹å‘ï¼Œæ‰¾åˆ°è‡ªå·±æœ€æ„¿æ„å­¦ä¹ çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”èƒ½è®©è‡ªå·±æ›´ä¸“ä¸šçš„çŸ¥è¯†ï¼Œä½ æ‰æœ‰è¶³å¤Ÿçš„åŠ¨åŠ›å»åšæŒã€‚</p>
<p> æ˜ç¡®çŸ¥è¯†ä½“ç³»çš„ä¸»é¢˜å’Œç”¨é€”å¯ä»¥å¸®åŠ©ä½ è¿…é€Ÿç†æ¸…è„‰ç»œï¼Œå‰”é™¤æ— æ•ˆä¿¡æ¯ï¼Œä¸å¿…å†åœ¨æ— å…³çš„å†…å®¹ä¸Šæµªè´¹è‡ªå·±å®è´µçš„æ—¶é—´ã€‚</p>
</li>
<li><p>çŸ¥è¯†çš„æ•´ç†å’Œåˆ†ç±»</p>
<p> <a href="https://www.zhihu.com/question/22696632/answer/82190516?utm_source=qq&amp;utm_medium=social" target="_blank" rel="noopener">ç¢ç‰‡é˜…è¯»å¦‚ä½•å½¢æˆçŸ¥è¯†ä½“ç³»ï¼Ÿ - çŸ¥ä¹</a></p>
<ol>
<li>ä»æ·±åº¦åˆ°å¹¿åº¦</li>
<li><p>ä»å¹¿åº¦åˆ°æ·±åº¦</p>
<p>å¯ä»¥ä½¿ç”¨æœ‰é“äº‘ï¼Œå°è±¡ç¬”è®°ç­‰ç¬”è®°ç±»è½¯ä»¶è¿›è¡Œæ•´åˆï¼Œå»ºç«‹ä¸“é—¨çš„ç¬”è®°æœ¬ï¼Œç„¶åæŠŠä½ çš„çŸ¥è¯†ç‚¹æŒ‰ç…§åç§°ï¼Œä½œä¸ºç¬”è®°å½’çº³åˆ°ä½ çš„çŸ¥è¯†ä½“ç³»ä¸­ã€‚</p>
</li>
</ol>
</li>
<li><p>çŸ¥è¯†çš„è¾“å‡ºå’Œè¿ç”¨</p>
<p> æŠŠè‡ªå·±å­¦åˆ°çš„çŸ¥è¯†å†™æˆæ–‡ç« ç­‰å‘å‡ºå»ã€‚</p>
<p> â€œæ¯ç« å°ç»“â€æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ä¸ä¸€å®šè¦æ¯ç« ï¼Œè‡³å°‘ä¸€å‘¨ä¸€å¤ä¹ </p>
</li>
<li><p>æ‰¾åˆ°è·å–çŸ¥è¯†çš„é€”å¾„</p>
<ol>
<li>ç½‘ç»œ</li>
<li>ä¹¦ç±</li>
<li>è¯¾å ‚</li>
<li>ç•™å¿ƒç”Ÿæ´»ä¸­çš„ç‚¹æ»´</li>
</ol>
</li>
<li><p>æŠŠæ¡çŸ¥è¯†åŠ¨æ€ï¼Œæ›´æ–°çŸ¥è¯†ä½“ç³»</p>
<p> è¦å»ç»å¸¸æµè§ˆæœ€æ–°çš„è·Ÿè‡ªå·±çŸ¥è¯†ä½“ç³»æœ‰å…³çš„æ–°æŠ€æœ¯</p>
</li>
</ol>
<h2 id="å¦‚ä½•æ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»"><a href="#å¦‚ä½•æ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»" class="headerlink" title="å¦‚ä½•æ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»"></a>å¦‚ä½•æ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»</h2><ol>
<li>ç¡®å®šå“ªäº›çŸ¥è¯†åŠ å…¥çŸ¥è¯†ä½“ç³»</li>
<li>çŸ¥è¯†ç»„å—</li>
<li>åŠæ—¶å¤ä¹ </li>
</ol>
<h2 id="ç¢ç‰‡é˜…è¯»å¦‚ä½•å½¢æˆçŸ¥è¯†ä½“ç³»"><a href="#ç¢ç‰‡é˜…è¯»å¦‚ä½•å½¢æˆçŸ¥è¯†ä½“ç³»" class="headerlink" title="ç¢ç‰‡é˜…è¯»å¦‚ä½•å½¢æˆçŸ¥è¯†ä½“ç³»"></a>ç¢ç‰‡é˜…è¯»å¦‚ä½•å½¢æˆçŸ¥è¯†ä½“ç³»</h2><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><ol>
<li>å¹¶éç¢ç‰‡åŒ–å°±èƒ½å½¢æˆæœ‰ä»·å€¼çš„ä½“ç³»</li>
<li>æœ€å¤§çš„é—®é¢˜æ˜¯çŸ¥è¯†çš„è·å–å’Œæ•´ç†</li>
<li>ç¢ç‰‡åŒ–é˜…è¯»å’ŒçŸ¥è¯†ä½“ç³»çš„æ„å»ºçš„æœ¬è´¨ï¼š<strong>æ‹¿æ¥ä¸»ä¹‰ï¼Œåˆ†é—¨åˆ«ç±»</strong></li>
</ol>
<h4 id="ææ–™é€‰æ‹©å’ŒåŸºæœ¬ç‰¹ç‚¹"><a href="#ææ–™é€‰æ‹©å’ŒåŸºæœ¬ç‰¹ç‚¹" class="headerlink" title="ææ–™é€‰æ‹©å’ŒåŸºæœ¬ç‰¹ç‚¹"></a>ææ–™é€‰æ‹©å’ŒåŸºæœ¬ç‰¹ç‚¹</h4><ol>
<li><p>é˜…è¯»çš„æ„‰æ‚¦æ„Ÿ</p>
<p> ä¸€ä¸ªæ„Ÿå…´è¶£çš„å†…å®¹èƒ½åŠ å¼ºä½ çš„æŠ—å¹²æ‰°èƒ½åŠ›ï¼ŒæŠŠç¢ç‰‡åŒ–é˜…è¯»çš„æ•ˆç‡æå¤§çš„æé«˜ã€‚</p>
<p> ç¢ç‰‡åŒ–ä¿¡æ¯çš„ç¬¬ä¸€é€‰æ‹©æ˜¯ï¼šå…·æœ‰å¸å¼•åŠ›çš„å†…å®¹</p>
</li>
<li><p>éš¾åº¦è¾ƒä½çš„é™Œç”Ÿææ–™æˆ–è€…ç†Ÿæ‚‰çš„ææ–™</p>
<p> ç¢ç‰‡åŒ–é˜…è¯»å¹¶ä¸ç›²ç›®è¿½æ±‚é™Œç”ŸçŸ¥è¯†ï¼Œé™Œç”ŸçŸ¥è¯†æ˜¯å¯¹è‡ªå·±æœ‰ç”¨ï¼Œä½†æ˜¯é™Œç”ŸçŸ¥è¯†ä¸€èˆ¬æœ‰è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ã€‚ä½ å¯ä»¥åœ¨é‡åˆ°é™Œç”Ÿé¢†åŸŸçš„æ—¶å€™ï¼Œå…ˆå»æ„å»ºè¯¥é¢†åŸŸçŸ¥è¯†ä½“ç³»ï¼Œäº†è§£è¯¥é¢†åŸŸåŸºæœ¬çŸ¥è¯†ä¹‹åå†è¿›è¡Œé˜…è¯»ã€‚</p>
</li>
</ol>
<h4 id="å…»æˆæ”¶é›†æ•´åˆï¼Œåå¤é˜…è¯»çš„ä¹ æƒ¯"><a href="#å…»æˆæ”¶é›†æ•´åˆï¼Œåå¤é˜…è¯»çš„ä¹ æƒ¯" class="headerlink" title="å…»æˆæ”¶é›†æ•´åˆï¼Œåå¤é˜…è¯»çš„ä¹ æƒ¯"></a>å…»æˆæ”¶é›†æ•´åˆï¼Œåå¤é˜…è¯»çš„ä¹ æƒ¯</h4><p>æœ€å¥½æŠŠæœ‰ä»·å€¼çš„å†…å®¹éšæ‰‹ä¿å­˜åˆ°ç¬”è®°è½¯ä»¶é‡Œï¼Œæ•´åˆåœ¨ä¸€èµ·ã€‚å‡å°‘å‡ºç°â€œæˆ‘å¥½åƒåœ¨å“ªé‡Œè§è¿‡è¿™ä¸ªé—®é¢˜â€â€œä¸è¿‡æˆ‘æƒ³ä¸èµ·åœ¨å“ªé‡Œçœ‹åˆ°çš„äº†â€çš„å›°æ‰°ï¼ŒåŸä½œè€…æ¨èæœ‰é“äº‘ç¬”è®°</p>
<ol>
<li><p>æœ‰ç›®çš„çš„é˜…è¯»</p>
<p> é˜…è¯»æ—¶å¯ä»¥å°†æœ‰ç”¨çš„ç‰‡æ®µè¿›è¡Œä¿å­˜ï¼Œå¯ä»¥ä¿å­˜åˆ°äº‘ç¬”è®°ç­‰è½¯ä»¶ä¸­ã€‚</p>
</li>
<li><p>æ— ç›®çš„çš„é˜…è¯»å’Œæµè§ˆ</p>
<p> æœ‰è¶£çš„å†…å®¹ä¹Ÿå¯ä»¥æµè§ˆï¼Œæ‰©å¤§çŸ¥è¯†ä½“ç³»</p>
</li>
</ol>
<h4 id="å½’çº³"><a href="#å½’çº³" class="headerlink" title="å½’çº³"></a>å½’çº³</h4><p>åˆ†ç±»æ˜¯ä¸€ç§é‡è¦çš„ç§‘å­¦æ–¹æ³•ï¼Œä»ç¢ç‰‡åˆ°å—åˆ°ç³»ç»Ÿï¼Œå½’çº³å¯ä»¥è¯´æ˜¯æ ¸å¿ƒçš„ä¸€æ­¥ã€‚</p>
<p>å¸¦ç€ç–‘é—®ï¼Œé‡åˆ°å°±ä¿å­˜ï¼Œæ¸…æ™°çš„æ•´ç†å½’ç±»åï¼Œç»•å¼€ç¹çå¤æ‚çš„ä¿¡æ¯ï¼Œå¤§è„‘çš„é¡¿æ‚Ÿç³»ç»Ÿå°±å¼€å§‹èµ·ä½œç”¨äº†ï¼Œä½ ä¼šå‘ç°æ¯”è¾ƒå¤æ‚çš„äº‹ç‰©å˜çš„æ˜“äºç†è§£å’Œæ¡ç†æ¸…æ™°èµ·æ¥ã€‚</p>
<p>åˆ†å¥½ç±»ä¹‹åï¼Œå†é‡åˆ°ä»€ä¹ˆæœ‰ç”¨å†…å®¹ï¼Œæˆ‘éƒ½çŸ¥é“ä¿å­˜å½’çº³åˆ°å“ªé‡Œï¼Œå¹¶ä¸”å»å“ªé‡Œæå–ç›¸å…³çš„ä¿¡æ¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜æœ‰å¾ˆå¤šå…¶ä»–å­¦ç§‘ç±»æ”¶é›†ä¸æ•´ç†ï¼Œéƒ½è·ç›Šé¢‡å¤šã€‚åŒç†ï¼Œé¢˜ä¸»çš„å¾ˆå¤šçš„å­¦ä¹ ä¸å·¥ä½œçš„äº‹éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹å¼æé«˜æ•ˆç‡å¹¶ä¸”å¯¹äºé—®é¢˜æœ‰æ›´å¥½çš„è®¤è¯†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºå»ºç«‹çŸ¥è¯†ç³»ç»Ÿè¿›è¡Œçš„å¿…è¦é“ºå«ã€‚</p>
<h4 id="æ•´ç†å’Œæ„å»ºä½“ç³»"><a href="#æ•´ç†å’Œæ„å»ºä½“ç³»" class="headerlink" title="æ•´ç†å’Œæ„å»ºä½“ç³»"></a>æ•´ç†å’Œæ„å»ºä½“ç³»</h4><p>åœ¨ä½ å½’çº³æ•´åˆä¹‹åï¼Œä½ å°±å¯ä»¥å¯¹å½“å‰çŸ¥è¯†è¿›è¡Œç³»ç»Ÿçš„æ•´ç†ï¼Œå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå†™ä¸€äº›å¿ƒå¾—ç­‰ï¼ŒåŸºæœ¬çš„çŸ¥è¯†åˆ†ç±»æ¡†æ¶å°±å·²ç»å‡ºæ¥ã€‚</p>
<h4 id="æ€»ç»“ä¸€ä¸‹æ­¥éª¤"><a href="#æ€»ç»“ä¸€ä¸‹æ­¥éª¤" class="headerlink" title="æ€»ç»“ä¸€ä¸‹æ­¥éª¤"></a>æ€»ç»“ä¸€ä¸‹æ­¥éª¤</h4><ol>
<li>ç¢ç‰‡é˜…è¯»çš„é€‰æ‹©</li>
<li>éšæ‰‹ä¿å­˜</li>
<li>æ•´ç†å½’çº³</li>
<li>åœ¨å½’çº³ä¹‹åå»ºç«‹ä¸åŒå±‚çº§çš„æ–‡ä»¶å¤¹</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/24/[Android WIFIå¼€å‘]/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/24/[Android WIFIå¼€å‘]/" itemprop="url">Android WIFIå¼€å‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-24T18:33:25+08:00">
                2017-11-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Android-WIFIå¼€å‘"><a href="#Android-WIFIå¼€å‘" class="headerlink" title="[Android WIFIå¼€å‘]"></a>[Android WIFIå¼€å‘]</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨Androidåº”ç”¨å±‚çš„å¼€å‘ä¸­ï¼Œä½¿ç”¨åˆ°wifiç›¸å…³çŸ¥è¯†ç‚¹çš„åœ°æ–¹å¹¶ä¸å¤šï¼Œæ‰€ä»¥ä¹‹å‰å¯¹wifiå¼€å‘å¹¶ä¸ç†Ÿæ‚‰ï¼Œæœ€è¿‘æ¥åˆ°çš„ä¸¤ä¸ªç¡¬ä»¶é¡¹ç›®éƒ½æœ‰ç”¨åˆ°wifiå¹¶ä¸”çŸ¥è¯†ç‚¹è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ‰€ä»¥æœ‰å¿…è¦è®°ä¸€ä¸‹ç¬”è®°ï¼Œåšä¸€äº›æ³¨é‡Šã€‚</p>
<h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><h4 id="1-æƒé™"><a href="#1-æƒé™" class="headerlink" title="1.æƒé™"></a>1.æƒé™</h4><p>Androidä¸­è¦ä½¿ç”¨ç³»ç»ŸåŠŸèƒ½ä¸€èˆ¬éƒ½è¦ç”³è¯·æƒé™ï¼Œåœ¨6.0ä¸Šå¯èƒ½è¿˜è¦æ‰‹åŠ¨ç”³è¯·æƒé™ï¼Œè¿™é‡Œwifiéœ€è¦çš„æƒé™æœ‰</p>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt; // éœ€è¦ç³»ç»Ÿæƒé™ [å®šä½æƒé™]
</code></pre><p>å…¶ä¸­åœ¨6.0ä»¥ä¸Šè®¾å¤‡ï¼Œå®šä½æƒé™éœ€è¦ä¸»åŠ¨ç”³è¯·ï¼Œå¹¶ä¸”å¦‚æœè¦è·å–æ‰«æwifiåˆ—è¡¨éœ€è¦æ‰“å¼€ç³»ç»Ÿçš„å®šä½å¼€å…³ã€‚</p>
<h4 id="2-WiFiç›¸å…³API"><a href="#2-WiFiç›¸å…³API" class="headerlink" title="2. WiFiç›¸å…³API"></a>2. WiFiç›¸å…³API</h4><p><img src="http://img.blog.csdn.net/20160301131454334" alt="WIFIç›¸å…³API"></p>
<p>ScanResultç±»ç”¨äºå­˜æ”¾wifiæ‰«æç»“æœä¿¡æ¯ï¼ŒåŒ…å«ssid(wifiåç§°), bssid(ç½‘ç»œæ¥å…¥ç‚¹åœ°å€),capabilities(åŠ å¯†ç±»å‹),frequency(ä¼ è¾“é¢‘ç‡),level(ä¿¡å·å¼ºåº¦)ç­‰ã€‚è¿™é‡Œçš„è§£é‡Šå¹¶ä¸å¤ªæ ‡å‡†ï¼Œä½†æ˜¯å¯¹åº”åŠŸèƒ½å¾ˆå½¢è±¡ï¼Œå¦‚æœä½ è¦äº†è§£æ›´å¤šï¼Œå¯ä»¥å»å…·ä½“çš„æŸ¥é˜…èµ„æ–™ã€‚</p>
<p>WifiConfigurationç±»ç”¨äºå­˜æ”¾wifiçš„é…ç½®ä¿¡æ¯ã€‚åŒ…æ‹¬wifiçš„å¯†ç ï¼ŒåŠ å¯†ç±»å‹ï¼Œç½‘ç»œid(ç”¨äºè¿æ¥wifi)ç­‰ã€‚ä»–çš„å‡ ä¸ªå­ç±»åˆ†åˆ«å¯¹åº”ç§˜é’¥åŠ å¯†æ–¹å¼ï¼Œå®‰å…¨åè®®ç­‰ï¼Œè¿™äº›åœ¨è®¾ç½®wifié…ç½®çš„æ—¶å€™ä¼šè¢«ç”¨åˆ°</p>
<p>wifiinfoç±»ç”¨æ¥æè¿°wifiå±æ€§å’Œè¿æ¥çŠ¶æ€ã€‚æš´éœ²äº†ä¸€äº›æ–¹æ³•ç»™å¼€å‘è€…è°ƒç”¨ã€‚getBSSID(), getMacAddress(), getIpAddress()ï¼ŒgetSSID()ç­‰</p>
<p>WifiManagerç±»æ˜¯frameworkå±‚æš´éœ²çš„apiï¼Œç”¨æ¥ç®¡ç†wifiã€‚é€šè¿‡è°ƒç”¨ Context.getSystemService(Context.WIFI_SERVICE)å¯ä»¥å¾—åˆ°ç±»çš„å®ä¾‹ã€‚é€šè¿‡ä»–å¯ä»¥å¾—åˆ°:1.å·²ç»é…ç½®çš„ç½‘ç»œåˆ—è¡¨ã€‚2.å½“å‰è¿æ¥çš„wifiã€‚3.æ‰«æåˆ°çš„wifiã€‚4.ä»¥åŠä¸€äº›å¸¸é‡è¡¨ç¤ºå¹¿æ’­çš„æ„å›¾ç­‰</p>
<h4 id="3-wifiçŠ¶æ€åŠå¼€å…³"><a href="#3-wifiçŠ¶æ€åŠå¼€å…³" class="headerlink" title="3. wifiçŠ¶æ€åŠå¼€å…³"></a>3. wifiçŠ¶æ€åŠå¼€å…³</h4><pre><code>/**
 * åˆ¤æ–­wifiæ˜¯å¦æ‰“å¼€
 * &lt;p&gt;éœ€æ·»åŠ æƒé™ {@code &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;}&lt;/p&gt;
 *
 * @return {@code true}: æ˜¯&lt;br&gt;{@code false}: å¦
 */
public static boolean getWifiEnabled() {
    @SuppressLint(&quot;WifiManagerLeak&quot;)
    WifiManager wifiManager = (WifiManager) Utils.getApp().getSystemService(Context.WIFI_SERVICE);
    return wifiManager.isWifiEnabled();
}

/**
 * æ‰“å¼€æˆ–å…³é—­wifi
 * &lt;p&gt;éœ€æ·»åŠ æƒé™ {@code &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;}&lt;/p&gt;
 *
 * @param enabled {@code true}: æ‰“å¼€&lt;br&gt;{@code false}: å…³é—­
 */
public static void setWifiEnabled(final boolean enabled) {
    @SuppressLint(&quot;WifiManagerLeak&quot;)
    WifiManager wifiManager = (WifiManager) Utils.getApp().getSystemService(Context.WIFI_SERVICE);
    if (enabled) {
        if (!wifiManager.isWifiEnabled()) {
            wifiManager.setWifiEnabled(true);
        }
    } else {
        if (wifiManager.isWifiEnabled()) {
            wifiManager.setWifiEnabled(false);
        }
    }
}
</code></pre><h4 id="4-æ‰«æwifi"><a href="#4-æ‰«æwifi" class="headerlink" title="4. æ‰«æwifi"></a>4. æ‰«æwifi</h4><pre><code> /**
 *
 * è·å–WIFIåˆ—è¡¨
 * &lt;p&gt;éœ€è¦æƒé™{@code &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;}&lt;/p&gt;
 * &lt;p&gt;æ³¨æ„Android6.0ä¸Šéœ€è¦ä¸»åŠ¨ç”³è¯·å®šä½æƒé™ï¼Œå¹¶ä¸”æ‰“å¼€å®šä½å¼€å…³&lt;/p&gt;
 *
 * @param context ä¸Šä¸‹æ–‡
 * @return wifiåˆ—è¡¨
 */
public static List&lt;ScanResult&gt; getWifiList(Context context) {
    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    List&lt;ScanResult&gt; scanResults = wm.getScanResults();

    Collections.sort(scanResults, new Comparator&lt;ScanResult&gt;() {
        @Override
        public int compare(ScanResult scanResult1, ScanResult scanResult2) {
            return scanResult2.level - scanResult1.level;
        }
    });
    return scanResultsCopy;
}

 /**
 * è·å–å½“å‰é“¾æ¥çš„WiFiä¿¡æ¯
 *
 * @param context ä¸Šä¸‹æ–‡
 * @return å½“å‰wifiæ•°æ®
 */
public static WifiInfo getCurrentWifi (Context context) {
    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    return wm.getConnectionInfo();
}


public static String getWifiEncryptTypeStr (String capabilitie) {
    if (TextUtils.isEmpty(capabilitie)) return null;

    String encryptType;

    if (capabilitie.contains(&quot;WPA&quot;) &amp;&amp; capabilitie.contains(&quot;WPA2&quot;)) {
        encryptType = &quot;WPA/WPA2 PSK&quot;;
    } else if (capabilitie.contains(&quot;WPA2&quot;)) {
        encryptType = &quot;WPA2 PSK&quot;;
    } else if (capabilitie.contains(&quot;WPA&quot;)) {
        encryptType = &quot;WPA PSK&quot;;
    } else if (capabilitie.contains(&quot;WEP&quot;)) {
        encryptType = &quot;WEP&quot;;
    } else {
        encryptType = &quot;NONE&quot;;
    }

    return encryptType;
}

/**
 * wifiåŠ å¯†æ–¹å¼æœ‰5ç§
 * 0 - WPA/WPA2 PSK
 * 1 - WPA2 PSK
 * 2 - WPA PSK
 * 3 - WEP
 * 4 - NONE
 * @param capabilitie
 * @return
 */
public static int getWifiEncryptType (String capabilitie) {
    if (TextUtils.isEmpty(capabilitie)) return -1;

    int encryptType;

    if (capabilitie.contains(&quot;WPA&quot;) &amp;&amp; capabilitie.contains(&quot;WPA2&quot;)) {
        encryptType = 0;
    } else if (capabilitie.contains(&quot;WPA2&quot;)) {
        encryptType = 1;
    } else if (capabilitie.contains(&quot;WPA&quot;)) {
        encryptType = 2;
    } else if (capabilitie.contains(&quot;WEP&quot;)) {
        encryptType = 3;
    } else {
        encryptType = 4;
    }

    return encryptType;
}
</code></pre><h4 id="5-è¿æ¥wifi"><a href="#5-è¿æ¥wifi" class="headerlink" title="5. è¿æ¥wifi"></a>5. è¿æ¥wifi</h4><pre><code> /**
 * @des è¿æ¥å·²ç»ä¿å­˜è¿‡é…ç½®çš„wifi
 * @param context
 * @param ssid
 */
public static void connectWifi (Context context, String ssid) {

    Log.d(TAG, &quot;connectWifi: å»è¿æ¥wifi: &quot; + ssid);

    if (!getWifiEnabled()) return;

    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    WifiConfiguration wc = new WifiConfiguration();

    wc.SSID = &quot;\&quot;&quot; + ssid + &quot;\&quot;&quot;;

    WifiConfiguration configuration = getWifiConfig(context, ssid);
    if (configuration != null) {
        wm.enableNetwork(configuration.networkId, true);
    }

}

/**
 * @des è¿æ¥æ²¡æœ‰é…ç½®è¿‡çš„wifi
 * @param context
 * @param ssid
 * @param password
 * @param encryptType
 */
public static void connectWifi (Context context, String ssid, String password, int encryptType) {

    Log.d(TAG, &quot;connectWifi: å»è¿æ¥wifi: &quot; + ssid);

    if (!getWifiEnabled()) return;

    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    WifiConfiguration wc = new WifiConfiguration();
    wc.allowedAuthAlgorithms.clear();
    wc.allowedGroupCiphers.clear();
    wc.allowedKeyManagement.clear();
    wc.allowedPairwiseCiphers.clear();
    wc.allowedProtocols.clear();

    wc.SSID = &quot;\&quot;&quot; + ssid + &quot;\&quot;&quot;;

    WifiConfiguration configuration = getWifiConfig(context, ssid);
    if (configuration != null) {
        wm.removeNetwork(configuration.networkId);
    }

    switch (encryptType) {
        case 4://ä¸åŠ å¯†
            wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);
            break;

        case 3://wepåŠ å¯†
            wc.hiddenSSID = true;
            wc.wepKeys[0] = &quot;\&quot;&quot; + password +&quot;\&quot;&quot;;
            wc.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.SHARED);
            wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);
            wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);
            wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);
            wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);
            wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);

            break;
        case 0: //wpa/wap2åŠ å¯†
        case 1: //wpa2åŠ å¯†
        case 2: //wpaåŠ å¯†

            wc.preSharedKey = &quot;\&quot;&quot; + password + &quot;\&quot;&quot;;
            wc.hiddenSSID = true;
            wc.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN);
            wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);
            wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);
            wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);
            wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);
            wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);
            wc.status = WifiConfiguration.Status.ENABLED;
            break;
    }

    int network = wm.addNetwork(wc);
    wm.enableNetwork(network, true);
}

public static void disConnectWifi (Context context, int networkId) {
    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    wm.disableNetwork(networkId);
    wm.disconnect();
}
</code></pre><h4 id="6-è·å–å’Œæ¸…é™¤WIFIé…ç½®"><a href="#6-è·å–å’Œæ¸…é™¤WIFIé…ç½®" class="headerlink" title="6. è·å–å’Œæ¸…é™¤WIFIé…ç½®"></a>6. è·å–å’Œæ¸…é™¤WIFIé…ç½®</h4><pre><code>/**
 * @des æ¸…é™¤wifié…ç½®ä¿¡æ¯
 * @param context
 * @param ssid
 */
public static void clearWifiInfo(Context context, String ssid) {

    Log.d(TAG, &quot;clearWifiInfo: æ¸…é™¤WIFIé…ç½®ä¿¡æ¯: &quot; + ssid);

    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);

    String newSSID = &quot;\&quot;&quot; + ssid + &quot;\&quot;&quot;;

    if (!(ssid.startsWith(&quot;\&quot;&quot;) &amp;&amp; ssid.endsWith(&quot;\&quot;&quot;))) {
        newSSID = &quot;\&quot;&quot; + ssid + &quot;\&quot;&quot;;
    } else {
        newSSID = ssid;
    }

    WifiConfiguration configuration = getWifiConfig(context, newSSID);
    configuration.allowedAuthAlgorithms.clear();
    configuration.allowedGroupCiphers.clear();
    configuration.allowedKeyManagement.clear();
    configuration.allowedPairwiseCiphers.clear();
    configuration.allowedProtocols.clear();

    if (configuration != null) {

        wm.removeNetwork(configuration.networkId);
        wm.saveConfiguration();
    }
}

public static WifiConfiguration getWifiConfig (Context context, String ssid) {

    Log.d(TAG, &quot;getWifiConfig: è·å–wifié…ç½®ä¿¡æ¯: &quot; + ssid);

    if (TextUtils.isEmpty(ssid)) return null;

    String newSSID;

    if (!(ssid.startsWith(&quot;\&quot;&quot;) &amp;&amp; ssid.endsWith(&quot;\&quot;&quot;))) {
        newSSID = &quot;\&quot;&quot; + ssid + &quot;\&quot;&quot;;
    } else {
        newSSID = ssid;
    }

    WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
    List&lt;WifiConfiguration&gt; configuredNetworks = wm.getConfiguredNetworks();

    for (WifiConfiguration configuration : configuredNetworks) {
        if (newSSID.equalsIgnoreCase(configuration.SSID)) {
            return configuration;
        }
    }

    return null;
}
</code></pre><h2 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h2><h4 id="1-ç›‘å¬wifiçŠ¶æ€çš„å˜åŒ–å¹¶åˆ·æ–°wifiåˆ—è¡¨å’Œè¿æ¥çŠ¶æ€"><a href="#1-ç›‘å¬wifiçŠ¶æ€çš„å˜åŒ–å¹¶åˆ·æ–°wifiåˆ—è¡¨å’Œè¿æ¥çŠ¶æ€" class="headerlink" title="1. ç›‘å¬wifiçŠ¶æ€çš„å˜åŒ–å¹¶åˆ·æ–°wifiåˆ—è¡¨å’Œè¿æ¥çŠ¶æ€"></a>1. ç›‘å¬wifiçŠ¶æ€çš„å˜åŒ–å¹¶åˆ·æ–°wifiåˆ—è¡¨å’Œè¿æ¥çŠ¶æ€</h4><h4 id="2-5Gwfifå’Œ2-4Gwifi"><a href="#2-5Gwfifå’Œ2-4Gwifi" class="headerlink" title="2. 5Gwfifå’Œ2.4Gwifi"></a>2. 5Gwfifå’Œ2.4Gwifi</h4><h2 id="è¸©å‘è®°å½•"><a href="#è¸©å‘è®°å½•" class="headerlink" title="è¸©å‘è®°å½•"></a>è¸©å‘è®°å½•</h2><h4 id="1-wifiçš„ssidæ˜¯å¸¦æœ‰â€â€ï¼Œæ‰€ä»¥ä½ å¦‚æœè¦åˆ¤ç©ºæ˜¯ä¸è¡Œçš„ï¼Œå¹¶ä¸”åœ¨è¿æ¥wifiçš„æ—¶å€™è¦æ‰‹åŠ¨ç»™ssidåŠ ä¸Šâ€â€ã€‚"><a href="#1-wifiçš„ssidæ˜¯å¸¦æœ‰â€â€ï¼Œæ‰€ä»¥ä½ å¦‚æœè¦åˆ¤ç©ºæ˜¯ä¸è¡Œçš„ï¼Œå¹¶ä¸”åœ¨è¿æ¥wifiçš„æ—¶å€™è¦æ‰‹åŠ¨ç»™ssidåŠ ä¸Šâ€â€ã€‚" class="headerlink" title="1. wifiçš„ssidæ˜¯å¸¦æœ‰â€â€ï¼Œæ‰€ä»¥ä½ å¦‚æœè¦åˆ¤ç©ºæ˜¯ä¸è¡Œçš„ï¼Œå¹¶ä¸”åœ¨è¿æ¥wifiçš„æ—¶å€™è¦æ‰‹åŠ¨ç»™ssidåŠ ä¸Šâ€â€ã€‚"></a>1. wifiçš„ssidæ˜¯å¸¦æœ‰â€â€ï¼Œæ‰€ä»¥ä½ å¦‚æœè¦åˆ¤ç©ºæ˜¯ä¸è¡Œçš„ï¼Œå¹¶ä¸”åœ¨è¿æ¥wifiçš„æ—¶å€™è¦æ‰‹åŠ¨ç»™ssidåŠ ä¸Šâ€â€ã€‚</h4><h4 id="2-å‰æ–‡å·²ç»è¯´äº†Android6-0ä»¥ä¸Šè¦æƒ³æ‰«æåˆ°wifiéœ€è¦å¼€å¯æƒé™å’Œæ‰‹æœºçš„å®šä½åŠŸèƒ½ï¼Œä¸ç„¶å¾—åˆ°çš„åˆ—è¡¨ä¸ºç©ºã€‚"><a href="#2-å‰æ–‡å·²ç»è¯´äº†Android6-0ä»¥ä¸Šè¦æƒ³æ‰«æåˆ°wifiéœ€è¦å¼€å¯æƒé™å’Œæ‰‹æœºçš„å®šä½åŠŸèƒ½ï¼Œä¸ç„¶å¾—åˆ°çš„åˆ—è¡¨ä¸ºç©ºã€‚" class="headerlink" title="2. å‰æ–‡å·²ç»è¯´äº†Android6.0ä»¥ä¸Šè¦æƒ³æ‰«æåˆ°wifiéœ€è¦å¼€å¯æƒé™å’Œæ‰‹æœºçš„å®šä½åŠŸèƒ½ï¼Œä¸ç„¶å¾—åˆ°çš„åˆ—è¡¨ä¸ºç©ºã€‚"></a>2. å‰æ–‡å·²ç»è¯´äº†Android6.0ä»¥ä¸Šè¦æƒ³æ‰«æåˆ°wifiéœ€è¦å¼€å¯æƒé™å’Œæ‰‹æœºçš„å®šä½åŠŸèƒ½ï¼Œä¸ç„¶å¾—åˆ°çš„åˆ—è¡¨ä¸ºç©ºã€‚</h4><h4 id="3-wifiçš„ç§˜é’¥å®‰å…¨æ¨¡å¼ç½‘ä¸Šå¹¶æ²¡æœ‰äººç»™å‡ºæ ‡å‡†çš„ç­”æ¡ˆï¼Œå„ä¸ªæ‰‹æœºå‚å•†çš„wifiç³»ç»Ÿä¸Šä¹Ÿéƒ½ä¸ä¸€æ ·ï¼Œå¯¹äºæˆ‘ä»¬å¼€å‘è€…è€Œè¨€ï¼Œä¸»è¦æœ‰5ç§æ–¹å¼ä¹Ÿå¯ä»¥æ€»ç»“ä¸º3ä¸­ï¼šNONE-æ— å¯†ç æ¨¡å¼-WEP-å®‰å…¨æ€§è¾ƒä½-WAP-PSK-WAP2-PSK-WPA-WPA2-PSK-è¿™ä¸‰ç§å®‰å…¨æ€§è¾ƒé«˜-ã€‚éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡capabilitieå±æ€§å¾—åˆ°çš„å­—ç¬¦ä¸²æ˜¯ç±»ä¼¼-WPA-PSK-CCMP-TKIP-WPA2-PSK-CCMP-TKIP-ESS-è¿™æ ·çš„ï¼Œå› ä¸ºwifiçš„åŠ å¯†æ–¹å¼æ˜¯å®‰å…¨æ¨¡å¼-å¯†ç åŠ å¯†ç±»å‹ç»„åˆçš„æ–¹å¼ã€‚ä½ è¦é€šè¿‡string-contains-æ–¹æ³•è§£æå‡ºå…¶ä¸­çš„å®‰å…¨æ¨¡å¼ï¼Œä¸Šæ–‡çš„æ‰«æwifiä¸­æœ‰è§£æçš„ä»£ç ã€‚"><a href="#3-wifiçš„ç§˜é’¥å®‰å…¨æ¨¡å¼ç½‘ä¸Šå¹¶æ²¡æœ‰äººç»™å‡ºæ ‡å‡†çš„ç­”æ¡ˆï¼Œå„ä¸ªæ‰‹æœºå‚å•†çš„wifiç³»ç»Ÿä¸Šä¹Ÿéƒ½ä¸ä¸€æ ·ï¼Œå¯¹äºæˆ‘ä»¬å¼€å‘è€…è€Œè¨€ï¼Œä¸»è¦æœ‰5ç§æ–¹å¼ä¹Ÿå¯ä»¥æ€»ç»“ä¸º3ä¸­ï¼šNONE-æ— å¯†ç æ¨¡å¼-WEP-å®‰å…¨æ€§è¾ƒä½-WAP-PSK-WAP2-PSK-WPA-WPA2-PSK-è¿™ä¸‰ç§å®‰å…¨æ€§è¾ƒé«˜-ã€‚éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡capabilitieå±æ€§å¾—åˆ°çš„å­—ç¬¦ä¸²æ˜¯ç±»ä¼¼-WPA-PSK-CCMP-TKIP-WPA2-PSK-CCMP-TKIP-ESS-è¿™æ ·çš„ï¼Œå› ä¸ºwifiçš„åŠ å¯†æ–¹å¼æ˜¯å®‰å…¨æ¨¡å¼-å¯†ç åŠ å¯†ç±»å‹ç»„åˆçš„æ–¹å¼ã€‚ä½ è¦é€šè¿‡string-contains-æ–¹æ³•è§£æå‡ºå…¶ä¸­çš„å®‰å…¨æ¨¡å¼ï¼Œä¸Šæ–‡çš„æ‰«æwifiä¸­æœ‰è§£æçš„ä»£ç ã€‚" class="headerlink" title="3. wifiçš„ç§˜é’¥å®‰å…¨æ¨¡å¼ç½‘ä¸Šå¹¶æ²¡æœ‰äººç»™å‡ºæ ‡å‡†çš„ç­”æ¡ˆï¼Œå„ä¸ªæ‰‹æœºå‚å•†çš„wifiç³»ç»Ÿä¸Šä¹Ÿéƒ½ä¸ä¸€æ ·ï¼Œå¯¹äºæˆ‘ä»¬å¼€å‘è€…è€Œè¨€ï¼Œä¸»è¦æœ‰5ç§æ–¹å¼ä¹Ÿå¯ä»¥æ€»ç»“ä¸º3ä¸­ï¼šNONE(æ— å¯†ç æ¨¡å¼), WEP(å®‰å…¨æ€§è¾ƒä½), WAP PSK, WAP2 PSK, WPA/WPA2 PSK(è¿™ä¸‰ç§å®‰å…¨æ€§è¾ƒé«˜)ã€‚éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡capabilitieå±æ€§å¾—åˆ°çš„å­—ç¬¦ä¸²æ˜¯ç±»ä¼¼ [WPA-PSK-CCMP+TKIP][WPA2-PSK-CCMP+TKIP][ESS] è¿™æ ·çš„ï¼Œå› ä¸ºwifiçš„åŠ å¯†æ–¹å¼æ˜¯å®‰å…¨æ¨¡å¼+å¯†ç åŠ å¯†ç±»å‹ç»„åˆçš„æ–¹å¼ã€‚ä½ è¦é€šè¿‡string.contains()æ–¹æ³•è§£æå‡ºå…¶ä¸­çš„å®‰å…¨æ¨¡å¼ï¼Œä¸Šæ–‡çš„æ‰«æwifiä¸­æœ‰è§£æçš„ä»£ç ã€‚"></a>3. wifiçš„ç§˜é’¥å®‰å…¨æ¨¡å¼ç½‘ä¸Šå¹¶æ²¡æœ‰äººç»™å‡ºæ ‡å‡†çš„ç­”æ¡ˆï¼Œå„ä¸ªæ‰‹æœºå‚å•†çš„wifiç³»ç»Ÿä¸Šä¹Ÿéƒ½ä¸ä¸€æ ·ï¼Œå¯¹äºæˆ‘ä»¬å¼€å‘è€…è€Œè¨€ï¼Œä¸»è¦æœ‰5ç§æ–¹å¼ä¹Ÿå¯ä»¥æ€»ç»“ä¸º3ä¸­ï¼šNONE(æ— å¯†ç æ¨¡å¼), WEP(å®‰å…¨æ€§è¾ƒä½), WAP PSK, WAP2 PSK, WPA/WPA2 PSK(è¿™ä¸‰ç§å®‰å…¨æ€§è¾ƒé«˜)ã€‚éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡capabilitieå±æ€§å¾—åˆ°çš„å­—ç¬¦ä¸²æ˜¯ç±»ä¼¼ [WPA-PSK-CCMP+TKIP][WPA2-PSK-CCMP+TKIP][ESS] è¿™æ ·çš„ï¼Œå› ä¸ºwifiçš„åŠ å¯†æ–¹å¼æ˜¯å®‰å…¨æ¨¡å¼+å¯†ç åŠ å¯†ç±»å‹ç»„åˆçš„æ–¹å¼ã€‚ä½ è¦é€šè¿‡string.contains()æ–¹æ³•è§£æå‡ºå…¶ä¸­çš„å®‰å…¨æ¨¡å¼ï¼Œä¸Šæ–‡çš„æ‰«æwifiä¸­æœ‰è§£æçš„ä»£ç ã€‚</h4><h4 id="4-æ‰«æåˆ—è¡¨ä¸­ssidå¯èƒ½ä¸ºç©ºæˆ–â€â€ï¼Œä¸€èˆ¬è¦å‰”é™¤æ‰ï¼Œè€Œä¸”wifiåˆ—è¡¨ä¸€èˆ¬æ˜¯æ ¹æ®ä¿¡å·å¼ºåº¦æ’åºã€‚ä¹Ÿæœ‰å¯èƒ½åˆ—è¡¨ä¸­å‡ºç°åŒåçš„wifi-æˆ‘ä¹‹å‰é‡åˆ°æ˜¯å› ä¸ºç°åœ¨çš„è·¯ç”±å™¨åŒæ—¶æ”¯æŒ5G-wifiå’Œ2-4G-wifiï¼Œä¸¤ä¸ªwifiå±äºä¸åŒçš„é¢‘æ®µã€‚"><a href="#4-æ‰«æåˆ—è¡¨ä¸­ssidå¯èƒ½ä¸ºç©ºæˆ–â€â€ï¼Œä¸€èˆ¬è¦å‰”é™¤æ‰ï¼Œè€Œä¸”wifiåˆ—è¡¨ä¸€èˆ¬æ˜¯æ ¹æ®ä¿¡å·å¼ºåº¦æ’åºã€‚ä¹Ÿæœ‰å¯èƒ½åˆ—è¡¨ä¸­å‡ºç°åŒåçš„wifi-æˆ‘ä¹‹å‰é‡åˆ°æ˜¯å› ä¸ºç°åœ¨çš„è·¯ç”±å™¨åŒæ—¶æ”¯æŒ5G-wifiå’Œ2-4G-wifiï¼Œä¸¤ä¸ªwifiå±äºä¸åŒçš„é¢‘æ®µã€‚" class="headerlink" title="4. æ‰«æåˆ—è¡¨ä¸­ssidå¯èƒ½ä¸ºç©ºæˆ–â€â€ï¼Œä¸€èˆ¬è¦å‰”é™¤æ‰ï¼Œè€Œä¸”wifiåˆ—è¡¨ä¸€èˆ¬æ˜¯æ ¹æ®ä¿¡å·å¼ºåº¦æ’åºã€‚ä¹Ÿæœ‰å¯èƒ½åˆ—è¡¨ä¸­å‡ºç°åŒåçš„wifi,æˆ‘ä¹‹å‰é‡åˆ°æ˜¯å› ä¸ºç°åœ¨çš„è·¯ç”±å™¨åŒæ—¶æ”¯æŒ5G wifiå’Œ2.4G wifiï¼Œä¸¤ä¸ªwifiå±äºä¸åŒçš„é¢‘æ®µã€‚"></a>4. æ‰«æåˆ—è¡¨ä¸­ssidå¯èƒ½ä¸ºç©ºæˆ–â€â€ï¼Œä¸€èˆ¬è¦å‰”é™¤æ‰ï¼Œè€Œä¸”wifiåˆ—è¡¨ä¸€èˆ¬æ˜¯æ ¹æ®ä¿¡å·å¼ºåº¦æ’åºã€‚ä¹Ÿæœ‰å¯èƒ½åˆ—è¡¨ä¸­å‡ºç°åŒåçš„wifi,æˆ‘ä¹‹å‰é‡åˆ°æ˜¯å› ä¸ºç°åœ¨çš„è·¯ç”±å™¨åŒæ—¶æ”¯æŒ5G wifiå’Œ2.4G wifiï¼Œä¸¤ä¸ªwifiå±äºä¸åŒçš„é¢‘æ®µã€‚</h4><h4 id="5-wifiæ˜¯å¯ä»¥è®¾ç½®ä¸ºéšè—wifiçš„ï¼Œè®¾ç½®ä¸ºéšè—wifiåä¸èƒ½è¢«æ‰«æåˆ°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç›´æ¥è¾“å…¥ssidå’Œç§˜é’¥çš„æ–¹å¼è¿æ¥ä¸Šã€‚"><a href="#5-wifiæ˜¯å¯ä»¥è®¾ç½®ä¸ºéšè—wifiçš„ï¼Œè®¾ç½®ä¸ºéšè—wifiåä¸èƒ½è¢«æ‰«æåˆ°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç›´æ¥è¾“å…¥ssidå’Œç§˜é’¥çš„æ–¹å¼è¿æ¥ä¸Šã€‚" class="headerlink" title="5. wifiæ˜¯å¯ä»¥è®¾ç½®ä¸ºéšè—wifiçš„ï¼Œè®¾ç½®ä¸ºéšè—wifiåä¸èƒ½è¢«æ‰«æåˆ°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç›´æ¥è¾“å…¥ssidå’Œç§˜é’¥çš„æ–¹å¼è¿æ¥ä¸Šã€‚"></a>5. wifiæ˜¯å¯ä»¥è®¾ç½®ä¸ºéšè—wifiçš„ï¼Œè®¾ç½®ä¸ºéšè—wifiåä¸èƒ½è¢«æ‰«æåˆ°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç›´æ¥è¾“å…¥ssidå’Œç§˜é’¥çš„æ–¹å¼è¿æ¥ä¸Šã€‚</h4><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/25/å¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/25/å¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®/" itemprop="url">Androidå¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®æºä»£ç </a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-25T08:12:46+08:00">
                2017-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Androidå¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®æºä»£ç "><a href="#Androidå¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®æºä»£ç " class="headerlink" title="Androidå¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®æºä»£ç "></a>Androidå¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›®æºä»£ç </h1><p>å¼€æºé¡¹ç›®ä¸€èˆ¬åˆ†ä¸ºå®Œæ•´é¡¹ç›®å’Œç¬¬ä¸‰æ–¹ç±»åº“ï¼Œå¯¹äºå®Œæ•´é¡¹ç›®ä¸»è¦åˆ†æé¡¹ç›®æ¶æ„ï¼Œå¼•ç”¨ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ€»ä½“ä»£ç é£æ ¼ç­‰ï¼Œåˆ†æç¬¬ä¸‰æ–¹ç±»åº“ä¸»è¦é›†ä¸­åœ¨åŠŸèƒ½å’Œå®ç°æ€è·¯ï¼Œè®¾è®¡æ€æƒ³ç­‰ã€‚</p>
<p>// äº†è§£åŠŸèƒ½ï¼Œè€ƒè™‘å®ç°æ–¹å¼</p>
<h4 id="1-æ€»-â€”-åŠŸèƒ½äº†è§£"><a href="#1-æ€»-â€”-åŠŸèƒ½äº†è§£" class="headerlink" title="1 æ€» â€”- åŠŸèƒ½äº†è§£"></a>1 æ€» â€”- åŠŸèƒ½äº†è§£</h4><p>äº†è§£é¡¹ç›®åŠŸèƒ½(Sample å’Œæ–‡æ¡£)ä»¥åŠä¸»è¦åˆ†ä¸ºå‡ ä¸ªå¤§å—ã€‚å¦å¤–æ˜ç™½ä½ çš„éœ€æ±‚ï¼Œæ¯”å¦‚ PullToRefresh çš„ä¸‹æ‹‰å®ç°ã€‚<br>PSï¼š<br>ï¼ˆ1ï¼‰å¤§å®¶å¯ä»¥è‡ªå·±å…ˆæƒ³æƒ³å¦‚æœæ˜¯è‡ªå·±ä¼šæ€ä¹ˆå»å®ç°è¿™ä¸ªé¡¹ç›®ï¼Œæˆ–è®¸çœ‹æºç è¿‡ç¨‹ä¸­ä¼šå‘ç°æ€æƒ³ç¢°æ’ã€‚<br>ï¼ˆ2ï¼‰å¦‚æœæ—¶é—´æ¯”è¾ƒç´§ï¼Œå¯ä»¥å…ˆ Google ä¸€äº›è¯¥é¡¹ç›®ç›¸å…³çš„æ–‡æ¡£ç»“åˆä»£ç çœ‹çœ‹ï¼Œå¸®åŠ©å¿«é€ŸæŒæ¡ï¼Œä¸è¿‡ç½‘ä¸Šåˆ†ææ–‡ç« å‚å·®ä¸é½ï¼Œéœ€è°¨æ…ã€‚</p>
<p>// åˆ†æé¡¹ç›®ä»£ç ç›®å½•ç»“æ„ â€“&gt; æ ¸å¿ƒç±» â€“&gt; æ ¸å¿ƒæ–¹æ³• â€“&gt; æ‰¾åˆ°åˆ†æé‡å¿ƒ</p>
<h4 id="2-åˆ†-â€”-è¯¦ç»†è®¾è®¡"><a href="#2-åˆ†-â€”-è¯¦ç»†è®¾è®¡" class="headerlink" title="2 åˆ† â€”- è¯¦ç»†è®¾è®¡"></a>2 åˆ† â€”- è¯¦ç»†è®¾è®¡</h4><p>è¿™é‡Œæ­£å¼å¼€å§‹ä»£ç åˆ†æï¼Œåˆ†æè¿‡ç¨‹ä¸­å¦‚æœè„‘å­è®°ä¸ä½ï¼Œå¤šåŠ¨æ‰‹è®°ä¸‹ä¸»è¦ç±»ã€å‡½æ•°ç­‰ä½œç”¨<br>(1) å…¥å£å¯¹å®Œæ•´ App æ¥è¯´å°±æ˜¯ Manifest æ‰¾åˆ°å…¥å£ Activityï¼Œå¯¹äºå·¥å…·åº“ä»è°ƒç”¨æ¥å£ä¸­åˆ¤æ–­å…¥å£ç±»ã€‚ç„¶ååœ¨ IDE ä¸­ä¸€æ­¥æ­¥æ·±å…¥å³å¯ã€‚PSï¼šä¸€èˆ¬ä¸é”™çš„å¼€æºé¡¹ç›®è§„èŒƒéƒ½æ¯”è¾ƒå¥½ï¼Œç±»ã€å‡½æ•°ã€å˜é‡ä»åå­—ä¸Šå°±å¯ä»¥äº†è§£ä½œç”¨ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦å¿«é€ŸæŒæ¡åŸç†çš„è¯çœ‹è§‰å¾—æ˜¯é‡ç‚¹çš„å‡½æ•°å³å¯ã€‚<br>(2) æ ¸å¿ƒç±»åœ¨ä¸Šé¢çš„ä¸€æ­¥æ­¥æ·±å…¥è¿‡ç¨‹ä¸­å·²ç»æ¥è§¦äº†ä¸å°‘ç±»ï¼Œå¤§è‡´äº†è§£å„ä¸ªç±»çš„ä¸»è¦ä½œç”¨</p>
<p>// åˆ†æé‡å¿ƒï¼Œåˆ†ææµç¨‹</p>
<h4 id="3-æ€»-â€”-æ€»ä½“è®¾è®¡"><a href="#3-æ€»-â€”-æ€»ä½“è®¾è®¡" class="headerlink" title="3 æ€» â€”- æ€»ä½“è®¾è®¡"></a>3 æ€» â€”- æ€»ä½“è®¾è®¡</h4><p>(1) åŠŸèƒ½æµç¨‹å›¾ä¸Šé¢ 2-(1) çš„è¿‡ç¨‹å®Œæˆåå·²ç»å¤§è‡´äº†è§£é¡¹ç›®çš„æµç¨‹ï¼Œä¸è´¹äº‹çš„è¯å¯ä»¥ç®€å•ç”»ä¸‹æµç¨‹åŠç›¸å…³ç±»ã€å‡½æ•°ã€‚å¦‚ Retrofitã€Volley çš„è¯·æ±‚å¤„ç†æµç¨‹ï¼ŒAndroid-Universal-Image-Loader çš„å›¾ç‰‡å¤„ç†æµç¨‹å›¾ã€‚<br>(2) æ€»ä½“è®¾è®¡æ•´ä¸ªåº“åˆ†ä¸ºå“ªäº›æ¨¡å—åŠæ¨¡å—ä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€‚å¦‚å¤§å¤šæ•°å›¾ç‰‡ç¼“å­˜ä¼šåˆ†ä¸º Loader å’Œ Processer ç­‰æ¨¡å—ã€‚</p>
<p>// é¡ºåºåˆ†æ</p>
<h4 id="4-å›é¡¾"><a href="#4-å›é¡¾" class="headerlink" title="4 å›é¡¾"></a>4 å›é¡¾</h4><p>è¿™æ—¶å€™ä» 3-2-1ï¼ˆæ€»ä½“è®¾è®¡-&gt;æµç¨‹å›¾-&gt;è¯¦ç»†è®¾è®¡-&gt;åŠŸèƒ½ä»‹ç»ï¼‰<br>ååºçœ‹ï¼Œå¤§è‡´å°±èƒ½äº†è§£ä½œè€…æœ€åˆæ˜¯æ€ä¹ˆè®¾è®¡çš„äº†å¯¹äºå¿«é€Ÿåˆ†æå¯ä»¥èµ° 1-2(1)-2(2)-3(1) çš„æ­¥éª¤ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/25/View äº‹ä»¶ä¼ é€’/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/25/View äº‹ä»¶ä¼ é€’/" itemprop="url">Viewäº‹ä»¶ä¼ é€’</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-25T08:12:46+08:00">
                2017-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Viewäº‹ä»¶ä¼ é€’æœºåˆ¶"><a href="#Viewäº‹ä»¶ä¼ é€’æœºåˆ¶" class="headerlink" title="Viewäº‹ä»¶ä¼ é€’æœºåˆ¶"></a>Viewäº‹ä»¶ä¼ é€’æœºåˆ¶</h1><h4 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h4><ol>
<li>Androidä¸­çš„touchäº‹ä»¶éƒ½è¢«å°è£…åˆ°TouchEventå¯¹è±¡ä¸­ï¼ŒåŒ…æ‹¬è§¦æ‘¸çš„æ—¶é—´ï¼Œä½ç½®ï¼ŒåŠ¨ä½œç­‰</li>
<li>Touchäº‹ä»¶çš„ç±»å‹æœ‰ACTION_DOWN,ACTION_MOVE,ACTION_UP,ACTION_CANCELç­‰ã€‚æ¯ä¸ªäº‹ä»¶éƒ½æ˜¯ä»¥ACTION_DOWNå¼€å§‹ï¼Œä»¥ACTION_UPç»“æŸã€‚</li>
<li>å¯¹äº‹ä»¶çš„å¤„ç†æœ‰ä¸‰ç§ï¼Œä¼ é€’ï¼Œæ‹¦æˆªï¼Œæ¶ˆè´¹ï¼Œåˆ†åˆ«æ˜¯dispatchTouchEvent(), onInterceptTouchEvent(),onTouchEvent()å’ŒonTouchListener</li>
</ol>
<h4 id="ä¼ é€’æµç¨‹"><a href="#ä¼ é€’æµç¨‹" class="headerlink" title="ä¼ é€’æµç¨‹"></a>ä¼ é€’æµç¨‹</h4><ol>
<li>äº‹ä»¶éƒ½æ˜¯ä»activity.dispatchTouchEvent()å¼€å§‹çš„ï¼Œå¦‚æœæ²¡æœ‰è¢«æ‹¦æˆªå°±ä¼šä¸€ç›´èµ°viewçš„diapathTouchEvent(),ä»æœ€ä¸Šå±‚çš„ViewGroupä¸€ç›´å‘ä¸‹ä¼ é€’åˆ°æœ€ä¸‹å±‚çš„å­View,æœ€åå­Viewå¯ä»¥é€šè¿‡onTouch()æ¶ˆè´¹æ‰äº‹ä»¶ã€‚å¦‚æœå­Viewæ²¡æœ‰æ¶ˆè´¹æ‰äº‹ä»¶ï¼Œé‚£ä¹ˆäº‹ä»¶å°±ä¼šå‘ä¸Šä¼ é€’ï¼Œè¿™æ—¶ViewGroupå¯ä»¥æ¶ˆè´¹äº‹ä»¶ï¼Œå¦‚æœä¹Ÿæ²¡æœ‰æ¶ˆè´¹çš„è¯ï¼Œæœ€åä¼šèµ°activity.onTouchEvent();</li>
<li>äº‹ä»¶å¯ä»¥è¢«æ‹¦æˆªã€‚ViewGroupå¯ä»¥é€šè¿‡onInterceptTouchEvent()é˜»æ­¢å…¶å‘ä¸‹ä¼ é€’ã€‚</li>
<li>å¦‚æœviewæ²¡æœ‰å¯¹ACTION_DOWNè¿›è¡Œæ¶ˆè´¹ï¼Œåˆ™å…¶ä»–äº‹ä»¶ä¸ä¼šä¼ é€’è¿‡æ¥ã€‚</li>
<li>onTouchListenerä¼˜å…ˆä¸onTouchEventè¿›è¡Œæ¶ˆè´¹.</li>
</ol>
<p><img src="https://raw.githubusercontent.com/android-cn/android-open-project-analysis/master/tech/touch-event/image/ignorant-view-example.jpg" alt="Viewä¸å¤„ç†äº‹ä»¶æµç¨‹"></p>
<p><img src="https://raw.githubusercontent.com/android-cn/android-open-project-analysis/master/tech/touch-event/image/interested-view-example.jpg" alt="Viewå¤„ç†äº‹ä»¶æµç¨‹"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/25/Java_å¤šçº¿ç¨‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/25/Java_å¤šçº¿ç¨‹/" itemprop="url">Java å¤šçº¿ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-25T08:12:46+08:00">
                2017-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java-å¤šçº¿ç¨‹"><a href="#Java-å¤šçº¿ç¨‹" class="headerlink" title="Java å¤šçº¿ç¨‹"></a>Java å¤šçº¿ç¨‹</h1><p>çº¿ç¨‹çŠ¶æ€<br><img src="http://upload-images.jianshu.io/upload_images/1689841-383f7101e6588094.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&amp;_=5479442" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/25/Eclipseé¡¹ç›®è¿ç§»åˆ°Android Studio/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sparky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/logo_s.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sparky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/25/Eclipseé¡¹ç›®è¿ç§»åˆ°Android Studio/" itemprop="url">Eclipseé¡¹ç›®å¯¼å…¥Android Studioæ³¨æ„äº‹é¡¹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-25T08:12:46+08:00">
                2017-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Eclipseé¡¹ç›®å¯¼å…¥Android-Studioæ³¨æ„äº‹é¡¹"><a href="#Eclipseé¡¹ç›®å¯¼å…¥Android-Studioæ³¨æ„äº‹é¡¹" class="headerlink" title="Eclipseé¡¹ç›®å¯¼å…¥Android Studioæ³¨æ„äº‹é¡¹:"></a>Eclipseé¡¹ç›®å¯¼å…¥Android Studioæ³¨æ„äº‹é¡¹:</h2><ol>
<li>å¦‚æœä»¥å‰æŠŠé¡¹ç›®ä»eclipseå¯¼å…¥Android Studioå¤±è´¥è¿‡,æœ€å¥½è¦å…ˆåˆ é™¤æ‰gradleæ–‡ä»¶(åŒ…æ‹¬build.gradle, gradleæ–‡ä»¶å¤¹,ä»¥åŠgradlew, gradlew.batæ–‡ä»¶)</li>
<li>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†butterknife,éœ€è¦åˆ é™¤æŸäº›æ–‡ä»¶,ä¸ç„¶ä¼šæŠ¥é”™:error: duplicate class: class_name$$ViewInjector$$.å¤„ç†æ­¥éª¤å¦‚ä¸‹:    1ï¼šåˆ é™¤eclipseé¡¹ç›®ä¸­çš„.apt_generatedæ–‡ä»¶å¤¹å’Œ.factorypathæ–‡ä»¶ 2ï¼šåˆ é™¤.classpathæ–‡ä»¶ä¸­çš„èŠ‚ç‚¹ 3ï¼šé‡æ–°å¯¼å…¥åˆ°android studioä¸­</li>
<li>android studioå³ä¸‹è§’çš„Gradle Consoleå¾ˆé‡è¦,å¦‚æœæœ‰gradleç¼–è¯‘æŠ¥é”™ä»€ä¹ˆçš„,åˆ†æé‡Œè¾¹çš„æ—¥å¿—åŸºæœ¬ä¸Šéƒ½å¯ä»¥å¾—åˆ°ç­”æ¡ˆ.æ¯”å¦‚æœ‰çš„æ–‡ä»¶éæ³•,ä½ æ‰”äº†ä¸€ä¸ª.keyæ–‡ä»¶åˆ°drawableæ–‡ä»¶å¤¹ä¸­,åœ¨æ–°ç‰ˆAndroid Studioä¸­æ˜¯ä¼šæŠ¥é”™çš„,ä½†æ˜¯Messengesä¸­çš„logå¯èƒ½æ˜¯å¾ˆç‰‡é¢çš„è¯´æ£€æµ‹åˆ°æ–‡ä»¶éæ³•,ä½†æ˜¯åœ¨gradle consoleä¸­å¯ä»¥çœ‹åˆ°å…·ä½“å“ªä¸€ä¸ªæ–‡ä»¶å‡ºé”™,å»ä¿®æ”¹.</li>
<li>å¦‚æœæœ‰.9å›¾ç‰‡,æœ€å¥½åœ¨è¿™ä¸ªé¡¹ç›®çº§åˆ«çš„build.gradleæ–‡ä»¶çš„android{}ä¸­æ·»åŠ èŠ‚ç‚¹, å› ä¸ºæœ‰å¾ˆå¤šæ—¶å€™åœ¨eclipseä¸Šèƒ½ç”¨çš„.9å›¾ç‰‡åœ¨asä¸Šä¸èƒ½ç”¨,å¦‚æœä¸èƒ½ç”¨,æ˜¯å¯ä»¥åœ¨gradle consoleä¸­æ˜¾ç¤ºlogçš„.Error:Execution failed for task â€˜:app:mergeDebugResourcesâ€™. &gt; Some file crunching failed, see logs for details build gradle issues    <pre><code>aaptOptions {
    cruncherEnabled false
    useNewCruncher false
}
</code></pre></li>
<li>å¦‚æœç”¨åˆ°google-play-service,å¯¼å…¥åˆ°Android Studioåä¼šè‡ªåŠ¨æ·»åŠ è¿œç¨‹ä¾èµ–compile â€˜com.google.android.gms:play-services:+â€™,ä½†æ˜¯æœ€æ–°çš„google-play-serciceä½¿ç”¨åˆ°äº†appcompat-v7ä¸­çš„å±æ€§,å¯èƒ½ä¸é¡¹ç›®ä¸­çš„æŸäº›valueå€¼å†²çª,æŠ¥å€¼éæ³•çš„é”™è¯¯,å»ºè®®æ”¹ä¸ºcompile â€˜com.google.android.gms:play-services:7.0.0â€™</li>
<li>å»æ‰project.propertyä¸­çš„é¡¹ç›®ä¾èµ–,å•ç‹¬å»æ·»åŠ moduleä¾èµ–</li>
<li>æ–‡ä»¶æ ¼å¼è½¬æ¢,å¯èƒ½è¿è¡Œæ—¶æŠ¥éæ³•å­—ç¬¦çš„é”™è¯¯,åªéœ€è¦åœ¨å³ä¸‹è§’ç‚¹å‡»UTF-8,é€‰æ‹©ä¸€ä¸ªå…¶ä»–æ ¼å¼,å¼¹å‡ºçª—é€‰æ‹©convert,å®Œæ¯•åå†æ¬¡ç‚¹å‡»XX(ç¼–ç æ ¼å¼),é€‰æ‹©utf-8,å¼¹å‡ºçª—é€‰æ‹©convert,ä¿å­˜,é‡æ–°ç¼–è¯‘.</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/logo_s.jpg"
                alt="Sparky" />
            
              <p class="site-author-name" itemprop="name">Sparky</p>
              <p class="site-description motion-element" itemprop="description">æˆ‘æ˜¯è°ï¼Ÿæˆ‘åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿæˆ‘æƒ³åšä»€ä¹ˆï¼Ÿæˆ‘è¦æ€ä¹ˆåšï¼Ÿ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">105</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sparky</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
